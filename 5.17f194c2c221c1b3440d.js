(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{W4OA:function(n,t,e){"use strict";e.r(t);var l=e("CcnG"),o=function(){return function(){}}(),r=e("t68o"),a=e("zbXB"),i=e("pMnS"),u=e("4SFU"),s=e("KIQC"),d=e("iBxq"),c=e("znre"),p=e("q/zX"),g=e("KF13"),f=e("8Bmw"),h=e("W99o"),m=e("x2FX"),v=e("HmNg"),P=e("35By"),b=e("o3x0"),O=e("8PDw"),y=e("AWsC"),C=e("0eVz"),I=e("wuaK"),_=e("gIcY"),M=e("Ip0R"),w=e("NvT6"),T=e("Blfk"),x=e("dWZg"),j=e("wFw1"),S=e("ZYCi"),R=e("QEL/"),k=function(){function n(n){this.profileService=n,this.defaultImagePath="/images/no-avatar.gif"}return n.prototype.ngOnInit=function(){this.user||(this.user={id:0,name:"Anonymous",email:"noone@nothing.com"}),this.authorLink=this.profileService.getProfileLink(this.user.id,this.user.name)},n}(),L=l["\u0275crt"]({encapsulation:0,styles:[[".user[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-size:14px}.user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{display:inline-block;width:50px;height:50px;background-size:cover}.user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.user[_ngcontent-%COMP%]   .identification[_ngcontent-%COMP%]{margin-left:11px;padding-top:6px}.user[_ngcontent-%COMP%]   .identification[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:inline-block}.user[_ngcontent-%COMP%]   .identification[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#930000;font-weight:700;cursor:pointer}.user[_ngcontent-%COMP%]   .identification[_ngcontent-%COMP%]   .userTitle[_ngcontent-%COMP%]{display:inline-block;color:#818897}.user[_ngcontent-%COMP%]   .identification[_ngcontent-%COMP%]   .postDate[_ngcontent-%COMP%]{font-size:12px;color:#818897}"]],data:{}});function E(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(n,t){n(t,0,0,t.component.user.avatarLink)})}function D(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(n,t){n(t,0,0,t.component.defaultImagePath)})}function N(n){return l["\u0275vid"](2,[l["\u0275pid"](0,M.DatePipe,[l.LOCALE_ID]),(n()(),l["\u0275eld"](1,0,null,null,15,"div",[["class","user"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"a",[["class","avatar"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var o=!0;return"click"===t&&(o=!1!==l["\u0275nov"](n,3).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&o),o},null,null)),l["\u0275did"](3,671744,null,0,S.s,[S.p,S.a,M.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,E)),l["\u0275did"](5,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),l["\u0275and"](0,[["noAvatar",2]],null,0,null,D)),(n()(),l["\u0275eld"](7,0,null,null,9,"div",[["class","identification"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,3,"div",[["class","name"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var o=!0;return"click"===t&&(o=!1!==l["\u0275nov"](n,10).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&o),o},null,null)),l["\u0275did"](10,671744,null,0,S.s,[S.p,S.a,M.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275ted"](11,null,[" "," "])),(n()(),l["\u0275eld"](12,0,null,null,1,"div",[["class","userTitle"]],null,null,null,null,null)),(n()(),l["\u0275ted"](13,null,["| ",""])),(n()(),l["\u0275eld"](14,0,null,null,2,"div",[["class","postDate"]],null,null,null,null,null)),(n()(),l["\u0275ted"](15,null,[" "," "])),l["\u0275ppd"](16,2)],function(n,t){var e=t.component;n(t,3,0,e.authorLink),n(t,5,0,null==e.user?null:e.user.avatarLink,l["\u0275nov"](t,6)),n(t,10,0,e.authorLink)},function(n,t){var e=t.component;n(t,2,0,l["\u0275nov"](t,3).target,l["\u0275nov"](t,3).href),n(t,9,0,l["\u0275nov"](t,10).target,l["\u0275nov"](t,10).href),n(t,11,0,e.user.name),n(t,13,0,null!=e.user&&e.user.userTitle?e.user.userTitle:"Member");var o=e.date?l["\u0275unv"](t,15,0,n(t,16,0,l["\u0275nov"](t,0),e.date,"medium")):"";n(t,15,0,o)})}var F=e("mrSG"),B=e("mLz/"),V=e("mYqj"),A=e("Gi3i"),U=e("gan3"),Q=e("gQbU"),z=function(n){function t(t,e,o,r,a,i,u){var s=n.call(this)||this;return s.dialog=t,s.fb=e,s.authService=o,s.localStorage=r,s.platformQuery=a,s.changeDetectorRef=i,s.quoteService=u,s.title="Create content",s.contentType="content",s.draftKey="content",s.draftQuoteKey="content",s.onNavigateBack=new l.EventEmitter,s.onSubmit=new l.EventEmitter,s.triedSubmitting=!1,s.isSubmitted=!1,s.isSaved=!1,s.showServerError=!1,s.isPlatformBrowser=!1,s.formGroup=s.fb.group({title:s.fb.control(""),description:s.fb.control("",[s.htmlTextRequired.bind(s)])}),s.isPlatformBrowser=s.platformQuery.isPlatformBrowser(),s}return Object(F.__extends)(t,n),t.prototype.ngOnInit=function(){var n=this;for(var t in this.formGroup.controls)this.formGroup.controls.hasOwnProperty(t)&&(this.formGroup.controls[t].valueChanges.subscribe(function(){n.isSaved=!1}),this.subscribe(this.formGroup.controls[t].valueChanges.pipe(Object(A.a)(5e3)),function(){n.isSaved||n.onSaveAsDraft()}));this.onLoadDraft()},t.prototype.submit=function(){this.triedSubmitting=!0,this.formGroup.valid&&(this.authService.isAuthenticated()?(this.isSubmitted=!0,this.showServerError=!1,this.onSubmit.emit(this.formGroup.getRawValue())):this.showRegisterDialog())},t.prototype.htmlTextRequired=function(n){var t=n.value;return!t||this.isHtmlEmpty(t)?{empty:!0}:{}},t.prototype.isHtmlEmpty=function(n){return!n.replace(/(<img.*?>)+/gi,"image").replace(/(<a.*?>)+/gi,"link").replace(/(<span.*?fr-emoticon.*?>)+/gi,"emoticon").replace(/(<([^>]+)>)/gi,"").trim()},t.prototype.onSaveAsDraft=function(){this.isSaved=!0,this.localStorage.setItem(this.draftKey,JSON.stringify(this.formGroup.getRawValue())),this.changeDetectorRef.markForCheck()},t.prototype.onClearDraft=function(){this.isSaved=!1,this.localStorage.removeItem(this.draftKey)},t.prototype.onLoadDraft=function(){var n=this.localStorage.getItem(this.draftKey);if(n){var t=JSON.parse(n);for(var e in t)t.hasOwnProperty(e)&&this.formGroup.controls[e].setValue(t[e])}var l=this.quoteService.getQuoteContent(this.draftQuoteKey);this.formGroup.controls.description.setValue(l+this.formGroup.controls.description.value),this.quoteService.deleteQuoteKey(this.draftQuoteKey),this.onSaveAsDraft()},t.prototype.showRegisterDialog=function(){this.onSaveAsDraft(),this.dialog.open(V.a,{data:{note:"Your post is <b>saved as draft</b>! You can navigate away and come back when you're logged in"},hasBackdrop:!0})},t.prototype.contentTypeBack=function(){return"thread"===this.contentType?"forum":"post"===this.contentType?"thread":this.contentType},t.prototype.navigateBack=function(){this.onNavigateBack.emit()},t}(U.a),$=l["\u0275crt"]({encapsulation:0,styles:[[".visible-phone[_ngcontent-%COMP%]{display:none}@media (min-width:360px){.visible-phone[_ngcontent-%COMP%]{display:initial}}.visible-tablet[_ngcontent-%COMP%]{display:none}@media (min-width:768px){.visible-tablet[_ngcontent-%COMP%]{display:initial}}.new-post[_ngcontent-%COMP%]{margin:0 auto;max-width:800px;padding:40px 0;background-color:#fff}.new-post[_ngcontent-%COMP%]   .back-to-reading[_ngcontent-%COMP%]{display:block;color:#930000;margin-bottom:25px}.new-post-container[_ngcontent-%COMP%]{color:#565656;background-color:#fff;font-size:14px}.new-post-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#930000}.new-post-container[_ngcontent-%COMP%]   .post-title[_ngcontent-%COMP%]{font-size:18px;font-weight:900;line-height:26px;margin-bottom:40px}.new-post-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .new-post-container[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{margin-bottom:30px}.new-post-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:42px}.new-post-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding:13px;text-transform:uppercase}.new-post-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:7px}.new-post-container[_ngcontent-%COMP%]   .input-with-tooltip[_ngcontent-%COMP%]{position:relative}.new-post-container[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{z-index:1}.new-post-container[_ngcontent-%COMP%]   .tooltip.top[_ngcontent-%COMP%]{margin-top:-10px;right:0}.new-post-container[_ngcontent-%COMP%]   .tooltip.top[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{border-top-color:#930000}.new-post-container[_ngcontent-%COMP%]   .tooltip.top[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{background-color:#930000}.new-post-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .im-btn[_ngcontent-%COMP%]{margin-right:10px}.posting-screen[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:30px;display:flex;flex-direction:column;align-items:center}"]],data:{}});function K(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","tooltip fade top in"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"div",[["class","tooltip-arrow"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Invalid field "]))],null,null)}function q(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"im-wysiwyg",[["formControlName","description"],["id","description"],["pageTitle","Insert Image"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onSave"]],function(n,t,e){var l=!0;return"onSave"===t&&(l=!1!==n.component.onSaveAsDraft()&&l),l},v.b,v.a)),l["\u0275did"](1,245760,null,0,P.a,[b.e,O.a,y.a,l.NgZone,C.a,l.ChangeDetectorRef,I.a],{pageTitle:[0,"pageTitle"],imageUploadSubtitleHtml:[1,"imageUploadSubtitleHtml"],initOnClick:[2,"initOnClick"]},null),l["\u0275prd"](1024,null,_.l,function(n){return[n]},[P.a]),l["\u0275did"](3,671744,null,0,_.g,[[3,_.c],[8,null],[8,null],[6,_.l],[2,_.A]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,_.m,null,[_.g]),l["\u0275did"](5,16384,null,0,_.n,[[4,_.m]],null,null)],function(n,t){n(t,1,0,"Insert Image",t.component.title,!1),n(t,3,0,"description")},function(n,t){n(t,0,0,l["\u0275nov"](t,5).ngClassUntouched,l["\u0275nov"](t,5).ngClassTouched,l["\u0275nov"](t,5).ngClassPristine,l["\u0275nov"](t,5).ngClassDirty,l["\u0275nov"](t,5).ngClassValid,l["\u0275nov"](t,5).ngClassInvalid,l["\u0275nov"](t,5).ngClassPending)})}function H(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Something went wrong! Saved as draft... please try refreshing your page or try again later! "]))],null,null)}function G(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Create Thread"]))],null,null)}function J(n){return l["\u0275vid"](0,[(n()(),l["\u0275ted"](-1,null,["Post Reply"]))],null,null)}function W(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,G)),l["\u0275did"](2,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),l["\u0275and"](0,[["reply",2]],null,0,null,J))],function(n,t){n(t,2,0,"thread"==t.component.contentType,l["\u0275nov"](t,3))},null)}function Y(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-circle-o-notch fa-spin fa fa-fw"]],null,null,null,null,null))],null,null)}function Z(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Save Draft"]))],null,null)}function X(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Saved!"]))],null,null)}function nn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,33,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,32,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,t,e){var o=!0,r=n.component;return"submit"===t&&(o=!1!==l["\u0275nov"](n,3).onSubmit(e)&&o),"reset"===t&&(o=!1!==l["\u0275nov"](n,3).onReset()&&o),"submit"===t&&(o=!1!==r.submit()&&o),o},null,null)),l["\u0275did"](2,16384,null,0,_.y,[],null,null),l["\u0275did"](3,540672,null,0,_.i,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,_.c,null,[_.i]),l["\u0275did"](5,16384,null,0,_.o,[[4,_.c]],null,null),(n()(),l["\u0275eld"](6,0,null,null,8,"div",[["class","title form-group input-with-tooltip"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,1,"label",[["for","title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Title"])),(n()(),l["\u0275eld"](9,0,null,null,5,"input",[["class","form-control"],["formControlName","title"],["id","title"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var o=!0;return"input"===t&&(o=!1!==l["\u0275nov"](n,10)._handleInput(e.target.value)&&o),"blur"===t&&(o=!1!==l["\u0275nov"](n,10).onTouched()&&o),"compositionstart"===t&&(o=!1!==l["\u0275nov"](n,10)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l["\u0275nov"](n,10)._compositionEnd(e.target.value)&&o),o},null,null)),l["\u0275did"](10,16384,null,0,_.d,[l.Renderer2,l.ElementRef,[2,_.a]],null,null),l["\u0275prd"](1024,null,_.l,function(n){return[n]},[_.d]),l["\u0275did"](12,671744,null,0,_.g,[[3,_.c],[8,null],[8,null],[6,_.l],[2,_.A]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,_.m,null,[_.g]),l["\u0275did"](14,16384,null,0,_.n,[[4,_.m]],null,null),(n()(),l["\u0275eld"](15,0,null,null,6,"div",[["class","description input-with-tooltip"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,K)),l["\u0275did"](17,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](18,0,null,null,1,"label",[["for","description"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Message"])),(n()(),l["\u0275and"](16777216,null,null,1,null,q)),l["\u0275did"](21,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,H)),l["\u0275did"](23,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](24,0,null,null,9,"div",[["class","actions"]],null,null,null,null,null)),(n()(),l["\u0275eld"](25,0,null,null,4,"button",[["class","im-btn"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,W)),l["\u0275did"](27,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Y)),l["\u0275did"](29,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](30,0,null,null,3,"button",[["class","im-btn-secondary im-btn-large"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onSaveAsDraft()&&l),l},null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Z)),l["\u0275did"](32,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),l["\u0275and"](0,[["alreadySaved",2]],null,0,null,X))],function(n,t){var e=t.component;n(t,3,0,e.formGroup),n(t,12,0,"title"),n(t,17,0,e.triedSubmitting&&!e.formGroup.controls.description.valid),n(t,21,0,e.isPlatformBrowser),n(t,23,0,e.showServerError),n(t,27,0,!e.isSubmitted),n(t,29,0,e.isSubmitted),n(t,32,0,!e.isSaved,l["\u0275nov"](t,33))},function(n,t){var e=t.component;n(t,1,0,l["\u0275nov"](t,5).ngClassUntouched,l["\u0275nov"](t,5).ngClassTouched,l["\u0275nov"](t,5).ngClassPristine,l["\u0275nov"](t,5).ngClassDirty,l["\u0275nov"](t,5).ngClassValid,l["\u0275nov"](t,5).ngClassInvalid,l["\u0275nov"](t,5).ngClassPending),n(t,9,0,l["\u0275nov"](t,14).ngClassUntouched,l["\u0275nov"](t,14).ngClassTouched,l["\u0275nov"](t,14).ngClassPristine,l["\u0275nov"](t,14).ngClassDirty,l["\u0275nov"](t,14).ngClassValid,l["\u0275nov"](t,14).ngClassInvalid,l["\u0275nov"](t,14).ngClassPending),n(t,25,0,e.isSubmitted),n(t,30,0,e.isSaved)})}function tn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","posting-screen"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"mat-progress-spinner",[["class","mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"],[1,"aria-valuemin",0],[1,"aria-valuemax",0],[1,"aria-valuenow",0],[1,"mode",0]],null,null,w.b,w.a)),l["\u0275did"](2,49152,null,0,T.b,[l.ElementRef,x.a,[2,M.DOCUMENT],[2,j.a],T.a],{mode:[0,"mode"]},null)],function(n,t){n(t,2,0,"indeterminate")},function(n,t){n(t,1,0,l["\u0275nov"](t,2)._noopAnimations,l["\u0275nov"](t,2).diameter,l["\u0275nov"](t,2).diameter,"determinate"===l["\u0275nov"](t,2).mode?0:null,"determinate"===l["\u0275nov"](t,2).mode?100:null,l["\u0275nov"](t,2).value,l["\u0275nov"](t,2).mode)})}function en(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,10,"div",[["class","new-post"],["id","newpost"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"a",[["class","back-to-reading"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.navigateBack()&&l),l},null,null)),(n()(),l["\u0275ted"](2,null,[" Go back to the "," you were reading "])),(n()(),l["\u0275eld"](3,0,null,null,7,"div",[["class","new-post-container"],["imKeyboardSave",""]],null,[[null,"onSave"]],function(n,t,e){var l=!0;return"onSave"===t&&(l=!1!==n.component.onSaveAsDraft()&&l),l},null,null)),(n()(),l["\u0275eld"](4,0,null,null,0,"div",[["class","post-title"]],[[8,"innerHTML",1]],null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,2,"div",[["class","user-details"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,1,"im-user-details",[],null,null,null,N,L)),l["\u0275did"](7,114688,null,0,k,[R.a],{user:[0,"user"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,nn)),l["\u0275did"](9,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),l["\u0275and"](0,[["isLoading",2]],null,0,null,tn))],function(n,t){var e=t.component;n(t,7,0,e.user),n(t,9,0,!e.isPosting,l["\u0275nov"](t,10))},function(n,t){var e=t.component;n(t,2,0,e.contentTypeBack()),n(t,4,0,e.title)})}function ln(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","im-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","im-center-block"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,en)),l["\u0275did"](3,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,3,0,t.component.isPlatformBrowser)},null)}var on=e("yGQT"),rn=e("Vk0m"),an=e("H2s4"),un=e("VnD/"),sn=e("ad02"),dn=e("67Y/"),cn=e("K9Ia"),pn=function(n){function t(t,e){var l=n.call(this)||this;return l.store=t,l.dialogRef=e,l.searchTerms=new cn.a,l.search(l.searchTerms).subscribe(function(){}),l}return Object(F.__extends)(t,n),t.prototype.ngOnInit=function(){var n=this;this.subscribe(this.store.pipe(Object(on.F)(function(n){return(n.forum||{forumsData:null}).forumsData}),Object(un.a)(function(n){return!!n})),function(t){n.forumsData=t})},t.prototype.submit=function(){this.dialogRef.close(this.forumId)},t.prototype.onClose=function(){this.dialogRef.close()},t.prototype.sortAlphabetically=function(){this.forumsData.forums.sort(function(n,t){var e=n.title.toUpperCase(),l=t.title.toUpperCase();return e<l?-1:e>l?1:0})},t.prototype.forumClick=function(n){n.children?n.expanded=!n.expanded:this.forumId=n.id},t.prototype.choose=function(){},t.prototype.getForum=function(n){return this.forumsData.forums.find(function(t){return t.id===n})},t.prototype.canContainThreads=function(n){return this.getForum(n).canContainThreads},t.prototype.getForumTitle=function(n){var t=this.getForum(n).title;return this.words?this.highlight(t):t},t.prototype.highlight=function(n){return n.replace(this.getRegex(this.words),function(n){return'<span class="im-red-hover">'+n+"</span>"})},t.prototype.getRegex=function(n){return new RegExp(n,"gi")},t.prototype.onKeyUp=function(){this.searchTerms.next(this.words)},t.prototype.search=function(n){var t=this;return n.pipe(Object(A.a)(400),Object(sn.a)(),Object(dn.a)(function(n){return t.filterHierarchyResults(n,t.forumsData.hierarchy)}))},t.prototype.filterHierarchyResults=function(n,t){var e=this,l=!0;return(t||[]).forEach(function(t){var o=e.getForum(t.id);-1===(n?o.title.search(e.getRegex(n)):0)?t.hide=!t.children||e.filterHierarchyResults(n,t.children):(t.hide=!1,t.children&&e.filterHierarchyResults("",t.children)),t.hide||(l=!1)}),l},t}(U.a),gn=e("CxY0");function fn(n){if(n.startsWith("/"))return n;try{return gn.parse(n).pathname}catch(t){return console.log("Failed converting from absolute URL: ",n,t),n}}var hn=function(n){function t(t,e,l,o,r){var a=n.call(this)||this;return a.router=t,a.store=e,a.browserUrlService=l,a.changeDetectorRef=o,a.dialog=r,a.title="Create thread",a.draftKey="forumDraft",a}return Object(F.__extends)(t,n),t.prototype.ngOnInit=function(){var n=this;this.subscribe(this.store.pipe(Object(on.F)(function(n){return[n.user,n.router,(n.forum||{forumsData:null}).forumsData]})),function(t){var e=t[1],l=t[2];if(n.user=t[0],n.forumId=Number(n.getForumId(e)),n.changeDetectorRef.markForCheck(),n.forumId&&l){var o=l.forums.find(function(t){return t.id===n.forumId});o&&(n.updateTitle(o.title),n.forumLink=o.link)}}),this.store.dispatch(new rn.k({}))},t.prototype.getForumId=function(n){return n&&(n.state.params.forumId||Number.parseInt(n.state.queryParams.f,10))||null},t.prototype.updateTitle=function(n){this.title+=' on forum "'+n+'"'},t.prototype.onSubmitThread=function(n){var t=this,e=this.createNewThreadPayload(n),l={forumId:this.forumId,newThread:e};this.forumId?this.store.dispatch(new rn.a(l)):(this.store.dispatch(new rn.w(l)),this.dialog.open(pn,{hasBackdrop:!0,panelClass:"dialog-forum-picker",width:"500px",maxWidth:"100%",disableClose:!0}).afterClosed().pipe(Object(un.a)(function(n){return n})).subscribe(function(n){l.forumId=t.forumId=n,t.changeDetectorRef.markForCheck(),t.store.dispatch(new rn.a(l))}))},t.prototype.createNewThreadPayload=function(n){return{subject:n.title,message:n.description}},t.prototype.onNavigateBackToForum=function(){var n=this.forumLink?fn(this.forumLink):"/";return this.router.navigateByUrl(n)},t}(U.a),mn=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function vn(n){return l["\u0275vid"](2,[(n()(),l["\u0275eld"](0,0,null,null,1,"im-light-editor",[],null,[[null,"onNavigateBack"],[null,"onSubmit"]],function(n,t,e){var l=!0,o=n.component;return"onNavigateBack"===t&&(l=!1!==o.onNavigateBackToForum()&&l),"onSubmit"===t&&(l=!1!==o.onSubmitThread(e)&&l),l},ln,$)),l["\u0275did"](1,245760,null,0,z,[b.e,_.e,O.a,B.a,I.a,l.ChangeDetectorRef,Q.a],{title:[0,"title"],contentType:[1,"contentType"],draftKey:[2,"draftKey"],user:[3,"user"]},{onNavigateBack:"onNavigateBack",onSubmit:"onSubmit"})],function(n,t){var e=t.component;n(t,1,0,e.title,"thread",e.draftKey,e.user)},null)}function Pn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"im-light-new-thread",[],null,null,null,vn,mn)),l["\u0275did"](1,245760,null,0,hn,[S.p,on.o,an.a,l.ChangeDetectorRef,b.e],null,null)],function(n,t){n(t,1,0)},null)}var bn=l["\u0275ccf"]("im-light-new-thread",hn,Pn,{},{},[]),On=e("XgSz"),yn=e("HxCd"),Cn=e("kjVO"),In=e("VME8"),_n=e("dbsj"),Mn=e("OCV8"),wn=e("y+qS"),Tn=e("TWAh"),xn=function(){function n(n,t,e){this.fb=n,this.threadService=t,this.platformQueryService=e,this.onDone=new l.EventEmitter,this.showServerError=!1,this.isSubmitted=!1,this.isSaving=!1,this.isPlatformBrowser=!1,this.isPlatformBrowser=this.platformQueryService.isPlatformBrowser()}return n.prototype.ngOnInit=function(){this.formGroup=this.fb.group({title:this.fb.control((this.post||{title:""}).title),description:this.fb.control((this.post||{message:""}).message,[this.htmlTextRequired.bind(this)])})},n.prototype.htmlTextRequired=function(n){var t=n.value;return!t||this.isHtmlEmpty(t)?{empty:!0}:{}},n.prototype.isHtmlEmpty=function(n){return!n.replace(/(<img.*?>)+/gi,"image").replace(/(<a.*?>)+/gi,"link").replace(/(<span.*?fr-emoticon.*?>)+/gi,"emoticon").replace(/(<([^>]+)>)/gi,"").trim()},n.prototype.onCancelEditing=function(n){n.stopPropagation(),this.onDone.emit(null)},n.prototype.onSubmit=function(){var n=this;if(this.isSubmitted=!0,this.showServerError=!1,!this.formGroup.invalid){var t=Object.assign({},this.post);t.title=this.formGroup.controls.title.value,t.message=this.formGroup.controls.description.value,this.isSaving=!0,this.threadService.saveOrUpdatePost(this.forumId,this.threadId,t).subscribe(function(){n.onDone.emit(t)},function(){n.showServerError=!0,n.isSaving=!1})}},n}(),jn=l["\u0275crt"]({encapsulation:0,styles:[[".edit-post-container[_ngcontent-%COMP%]{margin-top:20px}.post-title[_ngcontent-%COMP%]{font-size:18px;font-weight:900;line-height:26px;margin-bottom:40px}.description[_ngcontent-%COMP%], .user-details[_ngcontent-%COMP%]{margin-bottom:30px}.btn[_ngcontent-%COMP%]{height:42px}.btn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding:13px;text-transform:uppercase}label[_ngcontent-%COMP%]{margin-bottom:7px}.input-with-tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]{z-index:1}.tooltip.top[_ngcontent-%COMP%]{margin-top:-10px;right:0}.tooltip.top[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{border-top-color:#930000}.tooltip.top[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{background-color:#930000}"]],data:{}});function Sn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","tooltip fade top in"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"div",[["class","tooltip-arrow"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Invalid field "]))],null,null)}function Rn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"im-wysiwyg",[["formControlName","description"],["id","description"],["pageTitle","Insert Image"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,v.b,v.a)),l["\u0275did"](1,245760,null,0,P.a,[b.e,O.a,y.a,l.NgZone,C.a,l.ChangeDetectorRef,I.a],{pageTitle:[0,"pageTitle"],imageUploadSubtitleHtml:[1,"imageUploadSubtitleHtml"]},null),l["\u0275prd"](1024,null,_.l,function(n){return[n]},[P.a]),l["\u0275did"](3,671744,null,0,_.g,[[3,_.c],[8,null],[8,null],[6,_.l],[2,_.A]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,_.m,null,[_.g]),l["\u0275did"](5,16384,null,0,_.n,[[4,_.m]],null,null)],function(n,t){n(t,1,0,"Insert Image","Editing your reply"),n(t,3,0,"description")},function(n,t){n(t,0,0,l["\u0275nov"](t,5).ngClassUntouched,l["\u0275nov"](t,5).ngClassTouched,l["\u0275nov"](t,5).ngClassPristine,l["\u0275nov"](t,5).ngClassDirty,l["\u0275nov"](t,5).ngClassValid,l["\u0275nov"](t,5).ngClassInvalid,l["\u0275nov"](t,5).ngClassPending)})}function kn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Something went wrong! please try again! "]))],null,null)}function Ln(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Done editing"]))],null,null)}function En(n){return l["\u0275vid"](0,[(n()(),l["\u0275ted"](-1,null,["Saving..."]))],null,null)}function Dn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,31,"div",[["class","edit-post-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,30,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,t,e){var o=!0,r=n.component;return"submit"===t&&(o=!1!==l["\u0275nov"](n,3).onSubmit(e)&&o),"reset"===t&&(o=!1!==l["\u0275nov"](n,3).onReset()&&o),"submit"===t&&(o=!1!==r.onSubmit()&&o),o},null,null)),l["\u0275did"](2,16384,null,0,_.y,[],null,null),l["\u0275did"](3,540672,null,0,_.i,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,_.c,null,[_.i]),l["\u0275did"](5,16384,null,0,_.o,[[4,_.c]],null,null),(n()(),l["\u0275eld"](6,0,null,null,8,"div",[["class","title form-group input-with-tooltip"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,1,"label",[["for","title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Title"])),(n()(),l["\u0275eld"](9,0,null,null,5,"input",[["class","form-control"],["formControlName","title"],["id","title"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var o=!0;return"input"===t&&(o=!1!==l["\u0275nov"](n,10)._handleInput(e.target.value)&&o),"blur"===t&&(o=!1!==l["\u0275nov"](n,10).onTouched()&&o),"compositionstart"===t&&(o=!1!==l["\u0275nov"](n,10)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l["\u0275nov"](n,10)._compositionEnd(e.target.value)&&o),o},null,null)),l["\u0275did"](10,16384,null,0,_.d,[l.Renderer2,l.ElementRef,[2,_.a]],null,null),l["\u0275prd"](1024,null,_.l,function(n){return[n]},[_.d]),l["\u0275did"](12,671744,null,0,_.g,[[3,_.c],[8,null],[8,null],[6,_.l],[2,_.A]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,_.m,null,[_.g]),l["\u0275did"](14,16384,null,0,_.n,[[4,_.m]],null,null),(n()(),l["\u0275eld"](15,0,null,null,6,"div",[["class","description input-with-tooltip"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Sn)),l["\u0275did"](17,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](18,0,null,null,1,"label",[["for","description"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Message"])),(n()(),l["\u0275and"](16777216,null,null,1,null,Rn)),l["\u0275did"](21,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,kn)),l["\u0275did"](23,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](24,0,null,null,7,"div",[["class","actions"]],null,null,null,null,null)),(n()(),l["\u0275eld"](25,0,null,null,3,"button",[["class","im-btn im-btn-smaller"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Ln)),l["\u0275did"](27,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),l["\u0275and"](0,[["saving",2]],null,0,null,En)),(n()(),l["\u0275eld"](29,0,null,null,2,"button",[["class","im-btn-secondary"],["type","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onCancelEditing(e)&&l),l},null,null)),(n()(),l["\u0275eld"](30,0,null,null,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Cancel"]))],function(n,t){var e=t.component;n(t,3,0,e.formGroup),n(t,12,0,"title"),n(t,17,0,e.isSubmitted&&!e.formGroup.controls.description.valid),n(t,21,0,e.isPlatformBrowser),n(t,23,0,e.showServerError),n(t,27,0,!e.isSaving,l["\u0275nov"](t,28))},function(n,t){var e=t.component;n(t,1,0,l["\u0275nov"](t,5).ngClassUntouched,l["\u0275nov"](t,5).ngClassTouched,l["\u0275nov"](t,5).ngClassPristine,l["\u0275nov"](t,5).ngClassDirty,l["\u0275nov"](t,5).ngClassValid,l["\u0275nov"](t,5).ngClassInvalid,l["\u0275nov"](t,5).ngClassPending),n(t,9,0,l["\u0275nov"](t,14).ngClassUntouched,l["\u0275nov"](t,14).ngClassTouched,l["\u0275nov"](t,14).ngClassPristine,l["\u0275nov"](t,14).ngClassDirty,l["\u0275nov"](t,14).ngClassValid,l["\u0275nov"](t,14).ngClassInvalid,l["\u0275nov"](t,14).ngClassPending),n(t,25,0,e.isSaving)})}var Nn,Fn=e("bujt"),Bn=e("UodH"),Vn=e("lLAP"),An=e("a/8L"),Un=function(){function n(n){this.gptService=n,this.sizeMap=null,this.targetMap=null}return n.prototype.ngOnInit=function(){},n.prototype.ngAfterViewInit=function(){this.gptService.refreshAdSlot(this.slotId,this.adUnit,this.sizeMap,this.targetMap)},n}(),Qn=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function zn(n){return l["\u0275vid"](2,[(n()(),l["\u0275eld"](0,0,null,null,0,"div",[["style","padding-bottom: 20px;"]],[[8,"id",0]],null,null,null,null))],null,function(n,t){n(t,0,0,l["\u0275inlineInterpolate"](1,"",t.component.slotId,""))})}!function(n){n.LoadInfiniteThread="[InfThread] Load Infinite Thread",n.LoadInfiniteThreadSuccess="[InfThread] Load Infinite Thread Success",n.LoadPagePosts="[InfThread] Load Thread Page Posts",n.LoadPagePostsSuccess="[InfThread] Load Thread Page Posts Success",n.LoadPagePostsError="[InfThread] Load Thread Page Posts Error",n.LoadPagePostsBuffer="[InfThread] Load Thread Page Posts Buffer",n.LoadPagePostsBufferSuccess="[InfThread] Load Thread Page Posts Buffer Success",n.LoadPagePostsBufferError="[InfThread] Load Thread Page Posts Buffer Error",n.PostEnteredViewport="[InfThread] Post in Viewport",n.NewPageInViewport="[InfThread] New Page Entered Viewport",n.ExitThread="[InfThread] Exit Thread",n.JumpToPage="[InfThread] Jump to Page",n.Nothing="Nothing Happens --- TBD"}(Nn||(Nn={}));var $n=function(){return function(n){this.payload=n,this.type=Nn.PostEnteredViewport}}(),Kn=function(){return function(n){this.payload=n,this.type=Nn.NewPageInViewport}}(),qn=function(){return function(){this.type=Nn.ExitThread}}(),Hn=function(){return function(n){this.payload=n,this.type=Nn.JumpToPage}}(),Gn=function(){return function(n){this.payload=n,this.type=Nn.LoadInfiniteThread}}(),Jn=function(){return function(n){this.payload=n,this.type=Nn.LoadInfiniteThreadSuccess}}(),Wn=function(){return function(n){this.payload=n,this.type=Nn.LoadPagePosts}}(),Yn=function(){return function(n){this.payload=n,this.type=Nn.LoadPagePostsBuffer}}(),Zn=function(){return function(n){this.payload=n,this.type=Nn.LoadPagePostsSuccess}}(),Xn=function(){return function(n){this.payload=n,this.type=Nn.LoadPagePostsBufferSuccess}}(),nt=function(){return function(){this.type=Nn.Nothing}}(),tt=e("RMLH"),et=e("u3py"),lt=e("Upr7"),ot=e("z5Kw"),rt=e("f+UJ"),at=function(){return(at=Object.assign||function(n){for(var t,e=1,l=arguments.length;e<l;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)},it=function(n){function t(t,e,o,r,a,i,u,s,d,c,p){var g=n.call(this)||this;return g.browserUrlService=t,g.authService=e,g.adminService=o,g.store=r,g.route=a,g.changeDetectorRef=i,g.windowRef=u,g.scrollerService=s,g.platformQueryService=d,g.dialog=c,g.quoteService=p,g.onEnteredViewport=new l.EventEmitter,g.onReady=new l.EventEmitter,g.onReply=new l.EventEmitter,g.isOwner=!1,g.isMod=!1,g.isEditing=!1,g.isBrowser=!1,g.isQuoted=!1,g.showAds=!1,g.adUnit="",g.isBrowser=g.platformQueryService.isPlatformBrowser(),g}return Object(F.__extends)(t,n),t.prototype.ngOnInit=function(){var n=this;this.subscribe(this.store.pipe(Object(on.F)(function(t){return{post:t.forum.postsById[n.postId],user:t.user}}),Object(un.a)(function(n){return!!n.post})),function(t){var e=t.user;n.post=t.post,n.isOwner=e&&n.post.user.name===e.name,n.isMod=e&&e.isMod,n.changeDetectorRef.markForCheck()}),this.isQuoted=!Object(lt.a)(this.quoteService.getQuote(this.threadId,"thread",this.postId)),this.showAds=this.showAdsCheck(),this.adUnit=An.a.infiniteThreadTag,this.contextMenuData=at({},this.post,{threadId:this.threadId,forumId:this.forumId})},t.prototype.ngAfterViewInit=function(){this.onReady.emit(this.post)},t.prototype.showAdsCheck=function(){return 1===this.post.position||2===this.post.position||this.post.position%8<=1||void 0},t.prototype.isLoggedIn=function(){return this.authService.isAuthenticated()},t.prototype.onViewportEnter=function(n){n&&!this.isNewlyRepliedPost()&&(this.onEnteredViewport.emit(this.post.position),this.store.dispatch(new $n({postId:this.postId,threadId:this.threadId,forumId:this.forumId,page:this.post.page})))},t.prototype.reply=function(){this.onReply.emit({id:this.post.id,page:this.post.page})},t.prototype.isNewlyRepliedPost=function(){return!this.post.page},t.prototype.onLike=function(){this.store.dispatch(new rn.i({forumId:this.forumId,threadId:this.threadId,postId:this.postId,liked:!this.post.liked}))},t.prototype.onStartEdit=function(){this.isEditing||(this.isEditing=this.isOwner)},t.prototype.onRemove=function(){confirm("Are you sure you want to remove this post?")&&this.store.dispatch(new rn.d({forumId:this.forumId,threadId:this.threadId,post:this.post}))},t.prototype.updateFragment=function(n){this.browserUrlService.updateFragment(n)},t.prototype.onToggleQuoteReply=function(){this.isQuoted?this.quoteService.removeQuote(this.threadId,"thread",this.postId):this.quoteService.addQuote(this.threadId,"thread",{userName:this.post.user.name,contentID:this.postId,contentText:this.post.message}),this.isQuoted=!this.isQuoted},t.prototype.onQuoteReply=function(){this.quoteService.addQuote(this.threadId,"thread",{userName:this.post.user.name,contentID:this.postId,contentText:this.post.message}),this.reply()},t.prototype.onDoneEditing=function(n){this.isEditing=!1,n&&(this.post=n,this.store.dispatch(new rn.f({forumId:this.forumId,threadId:this.threadId,post:n})))},t.prototype.showLikes=function(){this.authService.isAuthenticated()?this.dialog.open(ot.a,{data:{contentId:this.post.id,contentType:"post"},hasBackdrop:!0}):this.dialog.open(V.a)},t.prototype.getPostTitle=function(n){return rt.a.addBreadcrumb("light-post.component.ts, isNil(post): "+Object(lt.a)(n)),n.title},t}(U.a),ut=l["\u0275crt"]({encapsulation:0,styles:[['.visible-phone[_ngcontent-%COMP%]{display:none}@media (min-width:360px){.visible-phone[_ngcontent-%COMP%]{display:initial}}.visible-tablet[_ngcontent-%COMP%]{display:none}@media (min-width:768px){.visible-tablet[_ngcontent-%COMP%]{display:initial}}.gpt-tag[_ngcontent-%COMP%]{padding-bottom:30px}.google-div[_ngcontent-%COMP%]{padding-top:10px}.post[_ngcontent-%COMP%]{display:block}.post[_ngcontent-%COMP%]   .quote[_ngcontent-%COMP%]{font-size:15px}.post[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;line-height:1.3}.post[_ngcontent-%COMP%]   .post-container[_ngcontent-%COMP%]{padding:0 0 30px;overflow-y:auto;overflow-x:hidden}.post[_ngcontent-%COMP%]   .post-container[_ngcontent-%COMP%]   .interactive-area[_ngcontent-%COMP%]{border:1px solid #fff}.post[_ngcontent-%COMP%]   .post-container[_ngcontent-%COMP%]   .interactive-area.editable[_ngcontent-%COMP%]{border:1px solid #3e3e3e;cursor:pointer}.post[_ngcontent-%COMP%]   .post-container[_ngcontent-%COMP%]   .interactive-area.editable[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .post-container[_ngcontent-%COMP%]   .interactive-area.editable[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-decoration:underline}.post[_ngcontent-%COMP%]   .post-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-top:30px;color:#3e3e3e}.post[_ngcontent-%COMP%]   .post-container[_ngcontent-%COMP%]   .post-number-div[_ngcontent-%COMP%]{display:flex;position:relative}.post[_ngcontent-%COMP%]   .post-container[_ngcontent-%COMP%]   .post-number-div[_ngcontent-%COMP%]   .post-number[_ngcontent-%COMP%]{padding-right:5px}.post[_ngcontent-%COMP%]   .post-container[_ngcontent-%COMP%]   .post-number-div[_ngcontent-%COMP%]   im-content-actions[_ngcontent-%COMP%]{position:absolute;right:-5px;top:20px}.post[_ngcontent-%COMP%]   .post-container[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:10px;right:10px}.post[_ngcontent-%COMP%]   .post-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{padding-top:20px;color:#3e3e3e;font-size:16px}.post[_ngcontent-%COMP%]   .post-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]     img{max-width:100%;margin:0!important}@media (min-width:768px){.post[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px}.post[_ngcontent-%COMP%]   .post-container[_ngcontent-%COMP%]   .post-number-div[_ngcontent-%COMP%]   .post-number[_ngcontent-%COMP%]{padding:0}.post[_ngcontent-%COMP%]   .post-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{line-height:1.4}.post[_ngcontent-%COMP%]   .post-container[_ngcontent-%COMP%]{padding-bottom:36px}}@media (min-width:1024px){.post[_ngcontent-%COMP%]   .post-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{line-height:1.5}}.post[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{display:inline-block;width:100%;padding-bottom:20px}.post[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:first-of-type){margin-left:10px}@media (min-width:768px){.post[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{padding-bottom:13px}}.post[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .likes-container[_ngcontent-%COMP%]{padding-top:9px;padding-bottom:9px;background-color:#f1f1f1;border-bottom:1px solid #e7e7e7}@media (min-width:768px){.post[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .likes-container[_ngcontent-%COMP%]{border-bottom:none;border-top:1px solid #e7e7e7;background:0 0}.post[_ngcontent-%COMP%]{border:1px solid #e7e7e7;background:#fff;padding:40px 40px 10px}}.signature[_ngcontent-%COMP%]{position:relative;margin-top:20px;padding-top:10px}.signature[_ngcontent-%COMP%]::after{position:absolute;height:100%;width:30%;border-top:1px dashed;content:"";top:0;left:0}[_nghost-%COMP%]     .quote-message{border:1px solid;padding:5px;overflow:auto}[_nghost-%COMP%]     .quote-author{font-weight:700}[_nghost-%COMP%]     .quote-info{font-style:italic}[_nghost-%COMP%]     .video-container{position:relative;padding-bottom:56.25%;padding-top:30px;height:0;overflow:hidden}[_nghost-%COMP%]     .video-container embed, [_nghost-%COMP%]     .video-container iframe, [_nghost-%COMP%]     .video-container object{position:absolute;top:0;left:0;width:100%;height:100%}']],data:{}});function st(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"div",[["class","post-number-div pull-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"a",[["class","post-number"],["pageScroll",""]],null,[[null,"click"]],function(n,t,e){var o=!0,r=n.component;return"click"===t&&(o=!1!==l["\u0275nov"](n,2).handleClick(e)&&o),"click"===t&&(o=!1!==r.updateFragment("post"+r.postId)&&o),o},null,null)),l["\u0275did"](2,671744,null,0,On.a,[yn.b,[2,S.p],M.DOCUMENT],{href:[0,"href"],pageScrollSpeed:[1,"pageScrollSpeed"],pageScroll:[2,"pageScroll"]},null),(n()(),l["\u0275ted"](3,null,[" #"," "])),(n()(),l["\u0275eld"](4,0,null,null,1,"im-content-actions",[],null,[[null,"onPostEdit"],[null,"onRemove"]],function(n,t,e){var l=!0,o=n.component;return"onPostEdit"===t&&(l=!1!==o.onStartEdit()&&l),"onRemove"===t&&(l=!1!==o.onRemove()&&l),l},Cn.b,Cn.a)),l["\u0275did"](5,245760,null,0,In.a,[on.o,b.e,_n.a,Mn.a,O.a],{user:[0,"user"],contentType:[1,"contentType"],content:[2,"content"]},{onPostEdit:"onPostEdit",onRemove:"onRemove"})],function(n,t){var e=t.component;n(t,2,0,l["\u0275inlineInterpolate"](1,"#post",e.postId,""),e.scrollerService.pageScrollOpts.defaultScrollSpeed,""),n(t,5,0,e.post.user,"post",e.contextMenuData)},function(n,t){n(t,3,0,t.component.post.position)})}function dt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"mat-progress-spinner",[["class","mat-progress-spinner"],["diameter","20"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"],[1,"aria-valuemin",0],[1,"aria-valuemax",0],[1,"aria-valuenow",0],[1,"mode",0]],null,null,w.b,w.a)),l["\u0275did"](1,49152,null,0,T.b,[l.ElementRef,x.a,[2,M.DOCUMENT],[2,j.a],T.a],{diameter:[0,"diameter"],mode:[1,"mode"]},null)],function(n,t){n(t,1,0,"20","indeterminate")},function(n,t){n(t,0,0,l["\u0275nov"](t,1)._noopAnimations,l["\u0275nov"](t,1).diameter,l["\u0275nov"](t,1).diameter,"determinate"===l["\u0275nov"](t,1).mode?0:null,"determinate"===l["\u0275nov"](t,1).mode?100:null,l["\u0275nov"](t,1).value,l["\u0275nov"](t,1).mode)})}function ct(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function pt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"h2",[],[[8,"innerHTML",1]],null,null,null,null))],null,function(n,t){var e=t.component;n(t,1,0,e.getPostTitle(e.post))})}function gt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["snInViewport",""]],[[8,"innerHTML",1],[2,"sn-viewport--in",null],[2,"sn-viewport--out",null]],[[null,"inViewportChange"]],function(n,t,e){var l=!0;return"inViewportChange"===t&&(l=!1!==n.component.onViewportEnter(e)&&l),l},null,null)),l["\u0275did"](1,4341760,null,0,wn.a,[l.ElementRef,wn.c],null,{inViewportChange:"inViewportChange"})],null,function(n,t){n(t,0,0,t.component.post.html,l["\u0275nov"](t,1).isInViewport,l["\u0275nov"](t,1).isNotInViewport)})}function ft(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],null,function(n,t){n(t,0,0,t.component.post.html)})}function ht(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"div",[["class","signature"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(n,t){n(t,0,0,t.component.post.user.signature)})}function mt(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,pt)),l["\u0275did"](1,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](2,0,null,null,5,"div",[["class","message"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,gt)),l["\u0275did"](4,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),l["\u0275and"](0,[["server",2]],null,0,null,ft)),(n()(),l["\u0275and"](16777216,null,null,1,null,ht)),l["\u0275did"](7,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,1,0,e.getPostTitle(e.post)),n(t,4,0,e.isBrowser,l["\u0275nov"](t,5)),n(t,7,0,null==e.post.user?null:e.post.user.signature)},null)}function vt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"im-edit-post",[],null,[[null,"onDone"]],function(n,t,e){var l=!0;return"onDone"===t&&(l=!1!==n.component.onDoneEditing(e)&&l),l},Dn,jn)),l["\u0275did"](1,114688,null,0,xn,[_.e,Tn.a,I.a],{forumId:[0,"forumId"],threadId:[1,"threadId"],post:[2,"post"]},{onDone:"onDone"})],function(n,t){var e=t.component;n(t,1,0,e.forumId,e.threadId,e.post)},null)}function Pt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"button",[["class","im-btn-secondary im-btn-small btn-vertical"],["mat-button",""]],[[2,"active",null],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onLike()&&l),l},Fn.b,Fn.a)),l["\u0275did"](1,180224,null,0,Bn.b,[l.ElementRef,x.a,Vn.g,[2,j.a]],null,null),(n()(),l["\u0275eld"](2,0,null,0,1,"span",[["class","icon"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-thumbs-up"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,0,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,["",""]))],null,function(n,t){var e=t.component;n(t,0,0,e.post.liked,l["\u0275nov"](t,1).disabled||null,"NoopAnimations"===l["\u0275nov"](t,1)._animationMode),n(t,5,0,e.post.liked?"Unlike":"Like")})}function bt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"button",[["class","im-btn-secondary im-btn-small btn-vertical"],["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onQuoteReply()&&l),l},Fn.b,Fn.a)),l["\u0275did"](1,180224,null,0,Bn.b,[l.ElementRef,x.a,Vn.g,[2,j.a]],null,null),(n()(),l["\u0275eld"](2,0,null,0,1,"span",[["class","icon"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-quote-left"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,0,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Quote"]))],null,function(n,t){n(t,0,0,l["\u0275nov"](t,1).disabled||null,"NoopAnimations"===l["\u0275nov"](t,1)._animationMode)})}function Ot(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"button",[["class","im-btn-secondary im-btn-small btn-vertical"],["mat-button",""]],[[2,"active",null],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onToggleQuoteReply()&&l),l},Fn.b,Fn.a)),l["\u0275did"](1,180224,null,0,Bn.b,[l.ElementRef,x.a,Vn.g,[2,j.a]],null,null),(n()(),l["\u0275eld"](2,0,null,0,1,"span",[["class","icon"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-quote-left"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,0,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,["",""]))],null,function(n,t){var e=t.component;n(t,0,0,e.isQuoted,l["\u0275nov"](t,1).disabled||null,"NoopAnimations"===l["\u0275nov"](t,1)._animationMode),n(t,5,0,e.isQuoted?"Unquote":"Quote+")})}function yt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"button",[["class","im-btn-secondary im-btn-small btn-vertical"],["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,Fn.b,Fn.a)),l["\u0275did"](1,180224,null,0,Bn.b,[l.ElementRef,x.a,Vn.g,[2,j.a]],null,null),(n()(),l["\u0275eld"](2,0,null,0,1,"span",[["class","icon"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,0,"i",[["class","im-icon-save"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,0,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Save post"]))],null,function(n,t){n(t,0,0,l["\u0275nov"](t,1).disabled||null,"NoopAnimations"===l["\u0275nov"](t,1)._animationMode)})}function Ct(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,15,"div",[["class","actions-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,14,"div",[["class","left pull-left"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Pt)),l["\u0275did"](3,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](4,0,null,null,5,"button",[["class","im-btn-secondary im-btn-small btn-vertical"],["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.reply()&&l),l},Fn.b,Fn.a)),l["\u0275did"](5,180224,null,0,Bn.b,[l.ElementRef,x.a,Vn.g,[2,j.a]],null,null),(n()(),l["\u0275eld"](6,0,null,0,1,"span",[["class","icon"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,0,"i",[["class","fa fa-comment"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,0,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Reply"])),(n()(),l["\u0275and"](16777216,null,null,1,null,bt)),l["\u0275did"](11,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Ot)),l["\u0275did"](13,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,yt)),l["\u0275did"](15,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,3,0,e.isLoggedIn()),n(t,11,0,e.isLoggedIn()),n(t,13,0,e.isLoggedIn()),n(t,15,0,!1)},function(n,t){n(t,4,0,l["\u0275nov"](t,5).disabled||null,"NoopAnimations"===l["\u0275nov"](t,5)._animationMode)})}function It(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"a",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.showLikes()&&l),l},null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"span",[["class","icon"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-thumbs-up"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](4,null,["",""]))],null,function(n,t){n(t,4,0,t.component.post.likes)})}function _t(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"span",[["class","icon"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-thumbs-up"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](3,null,["",""]))],null,function(n,t){n(t,3,0,t.component.post.likes)})}function Mt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,20,"div",[["class","post"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,10,"div",[["class","post-container"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,st)),l["\u0275did"](3,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](4,0,null,null,1,"im-user-details",[],null,null,null,N,L)),l["\u0275did"](5,114688,null,0,k,[R.a],{user:[0,"user"],date:[1,"date"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,dt)),l["\u0275did"](7,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,ct)),l["\u0275did"](9,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(n()(),l["\u0275and"](0,[["postBlock",2]],null,0,null,mt)),(n()(),l["\u0275and"](0,[["formBlock",2]],null,0,null,vt)),(n()(),l["\u0275eld"](12,0,null,null,7,"div",[["class","actions"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Ct)),l["\u0275did"](14,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](15,0,null,null,4,"div",[["class","likes-container im-center-block-overflow-mobile"]],null,null,null,null,null)),(n()(),l["\u0275eld"](16,0,null,null,3,"span",[["class","im-icon-gray likes"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,It)),l["\u0275did"](18,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),l["\u0275and"](0,[["noLikes",2]],null,0,null,_t)),(n()(),l["\u0275eld"](20,0,null,null,0,"div",[["class","stats"]],null,null,null,null,null))],function(n,t){var e=t.component;n(t,3,0,!e.post.isQueued),n(t,5,0,e.post.user,e.post.date),n(t,7,0,e.post.isQueued),n(t,9,0,e.isEditing,l["\u0275nov"](t,11),l["\u0275nov"](t,10)),n(t,14,0,!e.post.isQueued&&!e.isEditing),n(t,18,0,e.post.likes>0,l["\u0275nov"](t,19))},null)}function wt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"im-google-publisher-tags",[],null,null,null,zn,Qn)),l["\u0275did"](1,4308992,null,0,Un,[An.a],{slotId:[0,"slotId"],adUnit:[1,"adUnit"],targetMap:[2,"targetMap"]},null),l["\u0275pad"](2,2)],function(n,t){var e=t.component,l="post-adslot-"+e.postId,o=e.adUnit,r=n(t,2,0,"test","infinitescroll");n(t,1,0,l,o,r)},null)}function Tt(n){return l["\u0275vid"](2,[(n()(),l["\u0275and"](16777216,null,null,1,null,Mt)),l["\u0275did"](1,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](2,0,null,null,2,"div",[["class","google-div"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,wt)),l["\u0275did"](4,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,1,0,!!e.post&&!e.post.isHidden),n(t,4,0,e.showAds)},null)}var xt=function(n){function t(t,e,l,o,r,a,i,u){var s=n.call(this)||this;return s.fb=t,s.localStorage=e,s.authService=l,s.store=o,s.dialog=r,s.changeDetectorRef=a,s.wysiwyg=i,s.platformQueryService=u,s.isSaved=!0,s.isPlatformBrowser=!1,s.user=s.authService.getUser(),s.formGroup=s.fb.group({title:s.fb.control(""),description:s.fb.control("",[s.htmlTextRequired.bind(s)])}),s.isPlatformBrowser=s.platformQueryService.isPlatformBrowser(),s}return Object(F.__extends)(t,n),t.prototype.ngOnInit=function(){var n=this;for(var t in this.draftKey="thread"+this.thread.id,this.formGroup.controls)this.formGroup.controls.hasOwnProperty(t)&&(this.formGroup.controls[t].valueChanges.subscribe(function(){n.isSaved=!1}),this.subscribe(this.formGroup.controls[t].valueChanges.pipe(Object(A.a)(5e3)),function(){n.isSaved||n.onSaveAsDraft()}));this.onLoadDraft()},t.prototype.htmlTextRequired=function(n){var t=n.value;return!t||this.isHtmlEmpty(t)?{empty:!0}:{}},t.prototype.submit=function(){if(this.formGroup.valid)if(this.authService.isAuthenticated()){var n=this.formGroup.getRawValue();this.store.dispatch(new rn.t({post:{title:n.title,message:n.description},thread:this.thread})),this.localStorage.removeItem(this.draftKey),this.formGroup.reset(),this.wysiwyg.clear.emit()}else this.showRegisterDialog()},t.prototype.onLoadDraft=function(){var n=this.localStorage.getItem(this.draftKey);if(n){var t=JSON.parse(n);for(var e in t)t.hasOwnProperty(e)&&this.formGroup.controls[e].setValue(t[e])}},t.prototype.isHtmlEmpty=function(n){return!n.replace(/(<img.*?>)+/gi,"image").replace(/(<a.*?>)+/gi,"link").replace(/(<span.*?fr-emoticon.*?>)+/gi,"emoticon").replace(/(<([^>]+)>)/gi,"").trim()},t.prototype.showRegisterDialog=function(){this.onSaveAsDraft(),this.dialog.open(V.a,{data:{note:"Your post is <b>saved as draft</b>! You can navigate away and come back when you're logged in"},hasBackdrop:!0})},t.prototype.onSaveAsDraft=function(){this.isSaved=!0,this.localStorage.setItem(this.draftKey,JSON.stringify(this.formGroup.getRawValue())),this.changeDetectorRef.markForCheck()},t}(U.a),jt=l["\u0275crt"]({encapsulation:0,styles:[[".visible-phone[_ngcontent-%COMP%]{display:none}@media (min-width:360px){.visible-phone[_ngcontent-%COMP%]{display:initial}}.visible-tablet[_ngcontent-%COMP%]{display:none}@media (min-width:768px){.visible-tablet[_ngcontent-%COMP%]{display:initial}}.inline-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding-top:30px}.inline-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-right:20px}"]],data:{}});function St(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"im-wysiwyg",[["formControlName","description"],["id","description"],["pageTitle","Insert Image"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onSave"]],function(n,t,e){var l=!0;return"onSave"===t&&(l=!1!==n.component.onSaveAsDraft()&&l),l},v.b,v.a)),l["\u0275did"](1,245760,null,0,P.a,[b.e,O.a,y.a,l.NgZone,C.a,l.ChangeDetectorRef,I.a],{pageTitle:[0,"pageTitle"],imageUploadSubtitleHtml:[1,"imageUploadSubtitleHtml"],initOnClick:[2,"initOnClick"]},null),l["\u0275prd"](1024,null,_.l,function(n){return[n]},[P.a]),l["\u0275did"](3,671744,null,0,_.g,[[3,_.c],[8,null],[8,null],[6,_.l],[2,_.A]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,_.m,null,[_.g]),l["\u0275did"](5,16384,null,0,_.n,[[4,_.m]],null,null)],function(n,t){n(t,1,0,"Insert Image","",!1),n(t,3,0,"description")},function(n,t){n(t,0,0,l["\u0275nov"](t,5).ngClassUntouched,l["\u0275nov"](t,5).ngClassTouched,l["\u0275nov"](t,5).ngClassPristine,l["\u0275nov"](t,5).ngClassDirty,l["\u0275nov"](t,5).ngClassValid,l["\u0275nov"](t,5).ngClassInvalid,l["\u0275nov"](t,5).ngClassPending)})}function Rt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Save Draft"]))],null,null)}function kt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Saved!"]))],null,null)}function Lt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,26,"form",[["class","inline-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,t,e){var o=!0;return"submit"===t&&(o=!1!==l["\u0275nov"](n,2).onSubmit(e)&&o),"reset"===t&&(o=!1!==l["\u0275nov"](n,2).onReset()&&o),o},null,null)),l["\u0275did"](1,16384,null,0,_.y,[],null,null),l["\u0275did"](2,540672,null,0,_.i,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,_.c,null,[_.i]),l["\u0275did"](4,16384,null,0,_.o,[[4,_.c]],null,null),(n()(),l["\u0275eld"](5,0,null,null,8,"div",[["class","title form-group input-with-tooltip"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,1,"label",[["for","title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Title"])),(n()(),l["\u0275eld"](8,0,null,null,5,"input",[["class","form-control"],["formControlName","title"],["id","title"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var o=!0;return"input"===t&&(o=!1!==l["\u0275nov"](n,9)._handleInput(e.target.value)&&o),"blur"===t&&(o=!1!==l["\u0275nov"](n,9).onTouched()&&o),"compositionstart"===t&&(o=!1!==l["\u0275nov"](n,9)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l["\u0275nov"](n,9)._compositionEnd(e.target.value)&&o),o},null,null)),l["\u0275did"](9,16384,null,0,_.d,[l.Renderer2,l.ElementRef,[2,_.a]],null,null),l["\u0275prd"](1024,null,_.l,function(n){return[n]},[_.d]),l["\u0275did"](11,671744,null,0,_.g,[[3,_.c],[8,null],[8,null],[6,_.l],[2,_.A]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,_.m,null,[_.g]),l["\u0275did"](13,16384,null,0,_.n,[[4,_.m]],null,null),(n()(),l["\u0275eld"](14,0,null,null,4,"div",[["class","description input-with-tooltip"]],null,null,null,null,null)),(n()(),l["\u0275eld"](15,0,null,null,1,"label",[["for","description"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Message"])),(n()(),l["\u0275and"](16777216,null,null,1,null,St)),l["\u0275did"](18,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](19,0,null,null,7,"div",[["class","actions"]],null,null,null,null,null)),(n()(),l["\u0275eld"](20,0,null,null,2,"button",[["class","im-btn button"],["type","submit"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.submit()&&l),l},null,null)),(n()(),l["\u0275eld"](21,0,null,null,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["POST REPLY"])),(n()(),l["\u0275eld"](23,0,null,null,3,"button",[["class","im-btn-secondary im-btn-large button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onSaveAsDraft()&&l),l},null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Rt)),l["\u0275did"](25,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),l["\u0275and"](0,[["alreadySaved",2]],null,0,null,kt))],function(n,t){var e=t.component;n(t,2,0,e.formGroup),n(t,11,0,"title"),n(t,18,0,e.isPlatformBrowser),n(t,25,0,!e.isSaved,l["\u0275nov"](t,26))},function(n,t){var e=t.component;n(t,0,0,l["\u0275nov"](t,4).ngClassUntouched,l["\u0275nov"](t,4).ngClassTouched,l["\u0275nov"](t,4).ngClassPristine,l["\u0275nov"](t,4).ngClassDirty,l["\u0275nov"](t,4).ngClassValid,l["\u0275nov"](t,4).ngClassInvalid,l["\u0275nov"](t,4).ngClassPending),n(t,8,0,l["\u0275nov"](t,13).ngClassUntouched,l["\u0275nov"](t,13).ngClassTouched,l["\u0275nov"](t,13).ngClassPristine,l["\u0275nov"](t,13).ngClassDirty,l["\u0275nov"](t,13).ngClassValid,l["\u0275nov"](t,13).ngClassInvalid,l["\u0275nov"](t,13).ngClassPending),n(t,23,0,e.isSaved)})}var Et=e("eaE7"),Dt=e("moHP"),Nt=e("/IO6"),Ft=e("Sfzh"),Bt=e("26FU"),Vt=e("yaRi"),At=function(){function n(n,t){this.searchService=n,this.changeDetectorRef=t,this.page=1,this.searchResults=[],this.scrollUpComplete$=new Bt.a(!1),this.scrollDownComplete$=new Bt.a(!1),this.previousLoadComplete=!0}return n.prototype.ngOnInit=function(){this.loadMore()},n.prototype.getScrollUpComplete$=function(){return this.scrollUpComplete$},n.prototype.getScrollDownComplete$=function(){return this.scrollDownComplete$},n.prototype.getNextItem=function(){return null},n.prototype.onScrollUp=function(){},n.prototype.onScrollDown=function(){this.previousLoadComplete&&this.loadMore()},n.prototype.loadMore=function(){var n=this;this.previousLoadComplete=!1,this.searchService.similar({id:this.threadId,type:"thread"},{page:this.page++,contentTypes:[]}).subscribe(function(t){n.searchResults=(n.searchResults||[]).concat(t.results),n.previousLoadComplete=!0,n.changeDetectorRef.markForCheck()})},n}(),Ut=l["\u0275crt"]({encapsulation:0,styles:[[".im-container.im-center-block[_ngcontent-%COMP%]{padding-top:50px;background-color:#f6f6f6}"]],data:{}});function Qt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","im-container im-center-block"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"im-cards",[["title","Related Posts"]],null,null,null,Et.b,Et.a)),l["\u0275did"](2,245760,null,0,Dt.a,[l.NgZone,I.a,Nt.DeviceDetectorService,Ft.b],{title:[0,"title"],searchResults:[1,"searchResults"]},null)],function(n,t){n(t,2,0,"Related Posts",t.component.searchResults)},null)}var zt=function(){function n(){}return n.prototype.ngOnInit=function(){},n.prototype.toPath=function(n){return fn(n)},n.prototype.getAncestorTitle=function(n){return rt.a.addBreadcrumb("breadcrumb.component.ts, isNil(ancestor): "+Object(lt.a)(n)),n.title},n.prototype.getForumTitle=function(n){return rt.a.addBreadcrumb("breadcrumb.component.ts, isNil(forum): "+Object(lt.a)(n)),n.title},n}(),$t=l["\u0275crt"]({encapsulation:0,styles:[["a[_ngcontent-%COMP%]{color:#3e3e3e}a.parent-forum[_ngcontent-%COMP%]{color:#930000}"]],data:{}});function Kt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var o=!0;return"click"===t&&(o=!1!==l["\u0275nov"](n,2).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&o),o},null,null)),l["\u0275did"](2,671744,null,0,S.s,[S.p,S.a,M.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275ted"](3,null,[" "," "])),(n()(),l["\u0275ted"](-1,null,[" > "]))],function(n,t){n(t,2,0,t.component.toPath(t.context.$implicit.link))},function(n,t){var e=t.component;n(t,1,0,l["\u0275nov"](t,2).target,l["\u0275nov"](t,2).href),n(t,3,0,e.getAncestorTitle(t.context.$implicit))})}function qt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Kt)),l["\u0275did"](2,278528,null,0,M.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,t){var e=t.component;n(t,2,0,null==e.forum?null:e.forum.ancestors)},null)}function Ht(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var o=!0;return"click"===t&&(o=!1!==l["\u0275nov"](n,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&o),o},null,null)),l["\u0275did"](1,671744,null,0,S.s,[S.p,S.a,M.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275ted"](-1,null,["India"])),(n()(),l["\u0275ted"](-1,null,["\n>\n"])),(n()(),l["\u0275and"](16777216,null,null,1,null,qt)),l["\u0275did"](5,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](6,0,null,null,2,"a",[["class","parent-forum"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var o=!0;return"click"===t&&(o=!1!==l["\u0275nov"](n,7).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&o),o},null,null)),l["\u0275did"](7,671744,null,0,S.s,[S.p,S.a,M.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275ted"](8,null,["",""]))],function(n,t){var e=t.component;n(t,1,0,"/india"),n(t,5,0,null==e.forum?null:null==e.forum.ancestors?null:e.forum.ancestors.length),n(t,7,0,e.toPath(null==e.forum?null:e.forum.link))},function(n,t){var e=t.component;n(t,0,0,l["\u0275nov"](t,1).target,l["\u0275nov"](t,1).href),n(t,6,0,l["\u0275nov"](t,7).target,l["\u0275nov"](t,7).href),n(t,8,0,e.getForumTitle(e.forum))})}var Gt=function(){function n(){}return n.prototype.transform=function(n){var t={};return t[Symbol.iterator]=function(){var t;return function(n,t){var e,l,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function i(r){return function(i){return function(r){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,l&&(o=2&r[0]?l.return:r[0]?l.throw||((o=l.return)&&o.call(l),0):l.next)&&!(o=o.call(l,r[1])).done)return o;switch(l=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,l=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(n,a)}catch(i){r=[6,i],l=0}finally{e=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,i])}}}(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<n?[4,++t]:[3,3];case 2:return e.sent(),[3,1];case 3:return[2]}})},t},n}(),Jt=e("SMsm"),Wt=e("Fzqc"),Yt=e("Wf4p"),Zt=e("ZYjt"),Xt=l["\u0275crt"]({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}});function ne(n){return l["\u0275vid"](2,[l["\u0275ncd"](null,0)],null,null)}var te=function(n){function t(t,e){var l=n.call(this)||this;return l.scroller=t,l.store=e,l}return Object(F.__extends)(t,n),t.prototype.ngOnInit=function(){var n=this;this.subscribe(this.store.pipe(Object(on.F)(function(n){var t=n.forum.currentThreadIdAndPage;return{thread:n.forum.threadsById[t.threadId],page:t.page}}),Object(un.a)(function(n){return!!n.thread})),function(t){var e=t.thread,l=t.page;n.thread=e,n.totalPages=e.totalPages,n.totalPostsInThread=e.totalPosts,n.page=l})},t.prototype.ngOnChanges=function(n){this.lastPostPosition=n.lastPostPosition.currentValue,this.updateProgress()},t.prototype.updateProgress=function(){this.progress=this.lastPostPosition/this.totalPostsInThread*100},t.prototype.changePage=function(n){var t=Number.parseInt(""+n,10);this.store.dispatch(new Hn({forumId:this.thread.forum.id,threadId:this.thread.id,page:t,didRequestPageJump:!0}))},t.prototype.jumpToLastPage=function(){this.changePage(this.totalPages)},t.prototype.jumpToFirstPage=function(){this.changePage(1)},t.prototype.jumpToPreviousPage=function(){this.changePage(this.page-1)},t.prototype.jumpToNextPage=function(){this.changePage(this.page+1)},t.prototype.scrollToTop=function(){this.scroller.scrollTo(0)},t}(U.a),ee=l["\u0275crt"]({encapsulation:0,styles:[[".thread-nav-container[_ngcontent-%COMP%]{position:fixed;z-index:2;bottom:0;left:0;right:0;display:flex;flex-direction:column;background-color:#fff;color:#930000;font-size:13px;box-shadow:0 0 6px 0 #ccc}@media (max-width:767px){.container[_ngcontent-%COMP%]{width:100%}}.thread-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:55px;padding:10px 12px}.thread-page-filter[_ngcontent-%COMP%]{flex-grow:2}.thread-progress-bar-container[_ngcontent-%COMP%]{height:5px;background-color:#930000;transition:width .25s linear}.thread-progress-bar[_ngcontent-%COMP%]{background-color:#930000;width:40%}.im-go-top-btn[_ngcontent-%COMP%]{border:none;background:0 0;font-size:10px;margin-right:10px}.im-go-top-btn[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;line-height:1}.page-navigator[_ngcontent-%COMP%]{color:#930000;font-size:17px;margin:0 3px;padding:3px}#total-pages[_ngcontent-%COMP%]:hover, .page-navigator[_ngcontent-%COMP%]:hover{color:#b71111;cursor:pointer}#total-pages[_ngcontent-%COMP%]{margin:0 5px}.page-label[_ngcontent-%COMP%]{color:#3e3e3e}.center-group[_ngcontent-%COMP%], .im-go-top-btn[_ngcontent-%COMP%], .thread-page-nav[_ngcontent-%COMP%]{align-self:center}.center-group[_ngcontent-%COMP%]{display:flex}.thread-page-nav[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .thread-page-nav[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{max-width:60px;margin:0 5px}"]],data:{}});function le(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"span",[["class","page-navigator"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.jumpToFirstPage()&&l),l},null,null)),(n()(),l["\u0275eld"](2,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-angle-double-left"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"span",[["class","page-navigator"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.jumpToPreviousPage()&&l),l},null,null)),(n()(),l["\u0275eld"](4,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-angle-left"]],null,null,null,null,null))],null,null)}function oe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),l["\u0275did"](1,147456,null,0,_.q,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),l["\u0275did"](2,147456,null,0,_.B,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),l["\u0275ted"](3,null,[" ","/"," "]))],function(n,t){n(t,1,0,l["\u0275inlineInterpolate"](1,"",t.context.$implicit,"")),n(t,2,0,l["\u0275inlineInterpolate"](1,"",t.context.$implicit,""))},function(n,t){var e=t.component;n(t,0,0,t.context.$implicit===e.page),n(t,3,0,t.context.$implicit,e.totalPages)})}function re(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"select",[],null,[[null,"change"]],function(n,t,e){var l=!0;return"change"===t&&(l=!1!==n.component.changePage(e.target.value)&&l),l},null,null)),(n()(),l["\u0275and"](16777216,null,null,2,null,oe)),l["\u0275did"](2,278528,null,0,M.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),l["\u0275ppd"](3,1)],function(n,t){var e=t.component,o=l["\u0275unv"](t,2,0,n(t,3,0,l["\u0275nov"](t.parent.parent,0),e.totalPages));n(t,2,0,o)},null)}function ae(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,re)),l["\u0275did"](2,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,t){n(t,2,0,t.component.totalPages)},null)}function ie(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"input",[["min","1"],["type","number"]],[[8,"value",0],[8,"max",0]],[[null,"change"]],function(n,t,e){var l=!0;return"change"===t&&(l=!1!==n.component.changePage(e.target.value)&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" / "])),(n()(),l["\u0275eld"](2,0,null,null,1,"span",[["id","total-pages"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.jumpToLastPage()&&l),l},null,null)),(n()(),l["\u0275ted"](3,null,["",""]))],null,function(n,t){var e=t.component;n(t,0,0,l["\u0275inlineInterpolate"](1,"",e.page,""),l["\u0275inlineInterpolate"](1,"",e.totalPages,"")),n(t,3,0,e.totalPages)})}function ue(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"span",[["class","page-navigator"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.jumpToNextPage()&&l),l},null,null)),(n()(),l["\u0275eld"](2,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-angle-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"span",[["class","page-navigator"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.jumpToLastPage()&&l),l},null,null)),(n()(),l["\u0275eld"](4,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-angle-double-right"]],null,null,null,null,null))],null,null)}function se(n){return l["\u0275vid"](0,[l["\u0275pid"](0,Gt,[]),(n()(),l["\u0275eld"](1,0,null,null,20,"nav",[["class","thread-nav-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,3,"div",[["class","thread-progress-bar-container"]],null,null,null,null,null)),l["\u0275did"](3,278528,null,0,M.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](4,{width:0}),(n()(),l["\u0275eld"](5,0,null,null,0,"div",[["class","thread-progress-bar"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,15,"div",[["class","container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,14,"div",[["class","thread-nav"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,5,"button",[["class","im-go-top-btn"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.scrollToTop()&&l),l},null,null)),(n()(),l["\u0275eld"](9,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,ne,Xt)),l["\u0275did"](10,9158656,null,0,Jt.b,[l.ElementRef,Jt.d,[8,null],[2,Jt.a]],null,null),(n()(),l["\u0275ted"](-1,0,["arrow_upward"])),(n()(),l["\u0275eld"](12,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Top"])),(n()(),l["\u0275eld"](14,0,null,null,7,"span",[["class","thread-page-nav"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,le)),l["\u0275did"](16,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,ae)),l["\u0275did"](18,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),l["\u0275and"](0,[["input",2]],null,0,null,ie)),(n()(),l["\u0275and"](16777216,null,null,1,null,ue)),l["\u0275did"](21,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component,o=n(t,4,0,e.progress+"%");n(t,3,0,o),n(t,10,0),n(t,16,0,e.page>1),n(t,18,0,e.totalPages<=20,l["\u0275nov"](t,19)),n(t,21,0,e.page<e.totalPages)},function(n,t){n(t,9,0,l["\u0275nov"](t,10).inline)})}var de=function(){function n(n,t){this.documentRef=n,this.scrollerService=t,this.scrollPosBeforePrevPageLoad=0,this.pageHeightBeforePrevPostsLoad=0}return n.prototype.create=function(){this.scrollPosBeforePrevPageLoad=this.scrollerService.currentYPosition(),this.pageHeightBeforePrevPostsLoad=this.documentRef.document.body.scrollHeight},n.prototype.jumpBack=function(){this.scrollerService.scrollTo(this.documentRef.document.body.scrollHeight-this.pageHeightBeforePrevPostsLoad+this.scrollPosBeforePrevPageLoad),this.pageHeightBeforePrevPostsLoad=0},n.prototype.isCreated=function(){return!!this.pageHeightBeforePrevPostsLoad},n}(),ce=function(n){function t(t,e,l,o,r,a,i,u){var s=n.call(this)||this;return s.store=t,s.router=e,s.route=l,s.scrollerService=o,s.changeDetectorRef=r,s.browserUrlService=a,s.scrollSnapshotService=i,s.platformQuery=u,s.postIds=[],s.neededPages=[],s.isThreadFreshlyOpened=!0,s.lastPostPositionInViewport=0,s.didJumpToPage=!1,s.isLastPageLoaded=!1,s.isFirstPageLoaded=!1,s.showQuickReply=!0,s}return Object(F.__extends)(t,n),t.prototype.ngOnInit=function(){this.showQuickReply=this.platformQuery.isPlatformBrowser(),this.loadCurrentPagePosts()},t.prototype.ngOnDestroy=function(){n.prototype.ngOnDestroy.call(this),this.store.dispatch(new qn)},t.prototype.loadCurrentPagePosts=function(){var n=this;this.subscribe(this.store.pipe(Object(un.a)(function(t){return n.isCurrentThreadLoadedInStore(t)}),Object(on.F)(function(n){return{thread:n.forum.threadsById[n.forum.currentThreadIdAndPage.threadId],posts:n.forum.currentInfiniteThreadData.loadedPosts,isLoadingPreviousPosts:n.forum.currentInfiniteThreadData.isLoadingPreviousPosts,isFirstPageLoaded:n.forum.currentInfiniteThreadData.isFirstPageLoaded,isLastPageLoaded:n.forum.currentInfiniteThreadData.isLastPageLoaded,didJumpToPage:n.forum.currentInfiniteThreadData.didJumpToPage}}),Object(un.a)(function(t){return n.containsNewPosts(t.posts)})),function(t){var e=t.thread,l=t.posts,o=t.isLoadingPreviousPosts,r=t.isFirstPageLoaded,a=t.isLastPageLoaded,i=t.didJumpToPage;n.threadId=e.id,n.forumId=e.forum.id,n.thread=e,o&&n.scrollSnapshotService.create(),n.postIds=l,n.didJumpToPage=i,n.isFirstPageLoaded=r,n.isLastPageLoaded=a,n.changeDetectorRef.markForCheck()})},t.prototype.onScrollToPostHandler=function(n,t){if(this.shouldScroll(t))return this.isThreadFreshlyOpened&&this.isFirstPostInThread(n.position)?void(this.isThreadFreshlyOpened=!1):(this.isThreadFreshlyOpened=!1,void this.scrollerService.scrollByElementId("post"+n.id));this.isPostIdInUrlFragment(n.id)&&this.scrollToFragment()},t.prototype.shouldScroll=function(n){return this.isFirstIndexPresentInPage(n)&&(this.didJumpToPage||this.postIds.length<=15)},t.prototype.isFirstIndexPresentInPage=function(n){return 0===n},t.prototype.isFirstPostInThread=function(n){return 1===n},t.prototype.isPostIdInUrlFragment=function(n){var t=this.route.snapshot.fragment;return t&&"post"+n===t},t.prototype.scrollToFragment=function(){var n=this.route.snapshot.fragment;n&&(n.match(/post[0-9]+/)||n.match("postBtn"))&&this.scrollerService.scrollByElementId(n)},t.prototype.onPostEnteredViewport=function(n){this.lastPostPositionInViewport=n},t.prototype.navigateToNewPost=function(n){var t=this.browserUrlService.getUrlForThreadReply(this.route.snapshot.url,n.id,n.page);this.router.navigateByUrl(t),this.changeDetectorRef.markForCheck()},t.prototype.onScrollPreserveHandler=function(n){this.isLastPostToRender(n)&&this.scrollSnapshotService.isCreated()&&this.scrollSnapshotService.jumpBack()},t.prototype.containsNewPosts=function(n){return n.length!==this.postIds.length||n[n.length-1]!==this.postIds[this.postIds.length-1]},t.prototype.isLastPostToRender=function(n){return 14===n},t.prototype.isCurrentThreadLoadedInStore=function(n){return n.router&&n.forum&&n.forum.currentThreadIdAndPage.threadId&&""+n.forum.currentThreadIdAndPage.threadId==""+n.router.state.params.threadId},t.prototype.getThreadTitle=function(n){return rt.a.addBreadcrumb("infinite-tread.component.ts, isNil(thread): "+Object(lt.a)(n)),n.title},t}(U.a),pe=l["\u0275crt"]({encapsulation:0,styles:[[".visible-phone[_ngcontent-%COMP%]{display:none}@media (min-width:360px){.visible-phone[_ngcontent-%COMP%]{display:initial}}.visible-tablet[_ngcontent-%COMP%]{display:none}.im-container[_ngcontent-%COMP%]{position:relative;padding-left:0;padding-right:0;padding-bottom:80px}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0)}100%{-webkit-transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.replies-number[_ngcontent-%COMP%]{border-bottom:1px solid #e7e7e7}.replies-number[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;margin:0 0 -2px;padding:20px 0;border-bottom:3px solid #930000}@media (min-width:768px){.visible-tablet[_ngcontent-%COMP%]{display:initial}.im-container[_ngcontent-%COMP%]{background-color:#f6f6f6}.replies-number[_ngcontent-%COMP%]{margin-bottom:40px}}.breadcrumb[_ngcontent-%COMP%]{display:block;font-size:14px;color:#565656;padding-top:25px;line-height:1.6}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#565656;cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   a.current[_ngcontent-%COMP%]{color:#930000}.threads-container[_ngcontent-%COMP%]{margin-top:40px}.threads-container[_ngcontent-%COMP%]   im-timeline[_ngcontent-%COMP%]{position:fixed;margin-left:110px}.threads-container[_ngcontent-%COMP%]   im-timeline.abs[_ngcontent-%COMP%]{position:absolute;bottom:50px}.threads-container[_ngcontent-%COMP%]   .posts[_ngcontent-%COMP%]{margin:0 auto;max-width:800px}.threads-container[_ngcontent-%COMP%]   .posts[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]{margin-bottom:30px}.threads-container[_ngcontent-%COMP%]   .posts[_ngcontent-%COMP%]   .post[id^=post][_ngcontent-%COMP%]{position:relative}.threads-container[_ngcontent-%COMP%]   .posts[_ngcontent-%COMP%]   .post[id^=post][_ngcontent-%COMP%]   .post-number[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:0;right:0;padding:9px 5px 15px 20px}@media (min-width:768px){.threads-container[_ngcontent-%COMP%]   .posts[_ngcontent-%COMP%]   .post[id^=post][_ngcontent-%COMP%]   .post-number[_ngcontent-%COMP%]{padding:20px}.threads-container[_ngcontent-%COMP%]   .posts[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .quick-reply[_ngcontent-%COMP%]{border:1px solid #e7e7e7;background:#fff;padding:20px 40px 40px}.threads-container[_ngcontent-%COMP%]   .posts[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .quick-reply[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]{padding:20px 0 0}.threads-container[_ngcontent-%COMP%]   .posts[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]   .quick-reply[_ngcontent-%COMP%]   .fr-toolbar[_ngcontent-%COMP%]{border-top:0}}.threads-container[_ngcontent-%COMP%]   .posts[_ngcontent-%COMP%]   .filler[_ngcontent-%COMP%]{margin-bottom:30px}.load-more[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:20px 10px;text-align:center;margin-bottom:10px}.load-more[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;font-weight:700;color:#930000;border:none;background:0 0}.load-more[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:20px}.load-more[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin:0 10px;font-size:30px}.thread-reply-container[_ngcontent-%COMP%]{padding:50px 0;background-color:#f6f6f6}.thread-reply[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;padding:20px 10px;font-weight:700;border:1px solid #930000;text-align:center}.thread-reply[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:24px;margin-right:10px}@media (max-width:375px){.filler[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]{margin-bottom:10px}}@media (max-width:1000px){.threads-container[_ngcontent-%COMP%]{margin-top:20px}.threads-container[_ngcontent-%COMP%]   im-timeline[_ngcontent-%COMP%]{margin-left:0}.threads-container[_ngcontent-%COMP%]   im-timeline[_ngcontent-%COMP%]     .line-container .line .info{display:none}}"]],data:{}});function ge(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","load-more"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"mat-progress-spinner",[["class","mat-progress-spinner"],["color","primary"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"],[1,"aria-valuemin",0],[1,"aria-valuemax",0],[1,"aria-valuenow",0],[1,"mode",0]],null,null,w.b,w.a)),l["\u0275did"](2,49152,null,0,T.b,[l.ElementRef,x.a,[2,M.DOCUMENT],[2,j.a],T.a],{color:[0,"color"],mode:[1,"mode"]},null)],function(n,t){n(t,2,0,"primary","indeterminate")},function(n,t){n(t,1,0,l["\u0275nov"](t,2)._noopAnimations,l["\u0275nov"](t,2).diameter,l["\u0275nov"](t,2).diameter,"determinate"===l["\u0275nov"](t,2).mode?0:null,"determinate"===l["\u0275nov"](t,2).mode?100:null,l["\u0275nov"](t,2).value,l["\u0275nov"](t,2).mode)})}function fe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","replies-number im-center-block-overflow-mobile"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),l["\u0275ted"](3,null,[""," Replies"]))],null,function(n,t){n(t,3,0,t.component.thread.totalPosts-1)})}function he(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","post"]],[[8,"id",0]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"im-light-post",[],null,[[null,"onEnteredViewport"],[null,"onReady"],[null,"onReply"]],function(n,t,e){var l=!0,o=n.component;return"onEnteredViewport"===t&&(l=!1!==o.onPostEnteredViewport(e)&&l),"onReady"===t&&(l=!1!==o.onScrollToPostHandler(e,n.context.index)&&l),"onReady"===t&&(l=!1!==o.onScrollPreserveHandler(n.context.index)&&l),"onReply"===t&&(l=!1!==o.navigateToNewPost(e)&&l),l},Tt,ut)),l["\u0275did"](3,4440064,null,0,it,[an.a,O.a,_n.a,on.o,S.a,l.ChangeDetectorRef,tt.a,et.a,I.a,b.e,Q.a],{forumId:[0,"forumId"],threadId:[1,"threadId"],postId:[2,"postId"]},{onEnteredViewport:"onEnteredViewport",onReady:"onReady",onReply:"onReply"}),(n()(),l["\u0275and"](16777216,null,null,1,null,fe)),l["\u0275did"](5,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,t){var e=t.component;n(t,3,0,e.forumId,e.threadId,t.context.$implicit),n(t,5,0,0===t.context.index&&t.context.$implicit==e.thread.firstPost.id&&e.thread.totalPosts>1)},function(n,t){n(t,1,0,"post"+t.context.$implicit)})}function me(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,he)),l["\u0275did"](2,278528,null,0,M.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,t){n(t,2,0,t.component.postIds)},null)}function ve(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,10,"div",[["class","post"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,9,"div",[["class","quick-reply"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,5,"h3",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Replying to "])),(n()(),l["\u0275eld"](4,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var o=!0;return"click"===t&&(o=!1!==l["\u0275nov"](n,5).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&o),o},null,null)),l["\u0275did"](5,671744,null,0,S.s,[S.p,S.a,M.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275ted"](6,null,["",""])),(n()(),l["\u0275ted"](7,null,[' on "','" '])),(n()(),l["\u0275eld"](8,0,null,null,2,"div",[["class","editor"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,1,"im-inline-editor",[],null,null,null,Lt,jt)),l["\u0275did"](10,245760,null,0,xt,[_.e,B.a,O.a,on.o,b.e,l.ChangeDetectorRef,C.a,I.a],{thread:[0,"thread"]},null)],function(n,t){var e=t.component;n(t,5,0,l["\u0275inlineInterpolate"](1,"",e.thread.user.profileLink,"")),n(t,10,0,e.thread)},function(n,t){var e=t.component;n(t,4,0,l["\u0275nov"](t,5).target,l["\u0275nov"](t,5).href),n(t,6,0,e.thread.user.name),n(t,7,0,e.getThreadTitle(e.thread))})}function Pe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","load-more"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"mat-progress-spinner",[["class","mat-progress-spinner"],["color","primary"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"],[1,"aria-valuemin",0],[1,"aria-valuemax",0],[1,"aria-valuenow",0],[1,"mode",0]],null,null,w.b,w.a)),l["\u0275did"](2,49152,null,0,T.b,[l.ElementRef,x.a,[2,M.DOCUMENT],[2,j.a],T.a],{color:[0,"color"],mode:[1,"mode"]},null)],function(n,t){n(t,2,0,"primary","indeterminate")},function(n,t){n(t,1,0,l["\u0275nov"](t,2)._noopAnimations,l["\u0275nov"](t,2).diameter,l["\u0275nov"](t,2).diameter,"determinate"===l["\u0275nov"](t,2).mode?0:null,"determinate"===l["\u0275nov"](t,2).mode?100:null,l["\u0275nov"](t,2).value,l["\u0275nov"](t,2).mode)})}function be(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"im-related-cards",[],null,null,null,Qt,Ut)),l["\u0275did"](1,114688,null,0,At,[Vt.a,l.ChangeDetectorRef],{threadId:[0,"threadId"]},null)],function(n,t){n(t,1,0,t.component.threadId)},null)}function Oe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,18,"div",[["class","im-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,15,"div",[["class","im-center-block"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"im-breadcrumb",[["class","breadcrumb"]],null,null,null,Ht,$t)),l["\u0275did"](3,114688,null,0,zt,[],{forum:[0,"forum"]},null),(n()(),l["\u0275eld"](4,0,null,null,1,"im-infinite-thread-navigator",[],null,null,null,se,ee)),l["\u0275did"](5,770048,null,0,te,[et.a,on.o],{lastPostPosition:[0,"lastPostPosition"]},null),(n()(),l["\u0275eld"](6,0,null,null,10,"div",[["class","threads-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,9,"div",[["class","posts"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,8,"div",[["class","thread-posts"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,ge)),l["\u0275did"](10,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,me)),l["\u0275did"](12,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,ve)),l["\u0275did"](14,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Pe)),l["\u0275did"](16,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,be)),l["\u0275did"](18,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,3,0,e.thread.forum),n(t,5,0,e.lastPostPositionInViewport),n(t,10,0,!e.isFirstPageLoaded),n(t,12,0,null==e.postIds?null:e.postIds.length),n(t,14,0,e.isLastPageLoaded&&e.showQuickReply),n(t,16,0,!e.isLastPageLoaded),n(t,18,0,e.isLastPageLoaded)},null)}function ye(n){return l["\u0275vid"](2,[(n()(),l["\u0275and"](16777216,null,null,1,null,Oe)),l["\u0275did"](1,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,t.component.thread)},null)}var Ce=function(){function n(){this.threadType="infinite-paginated"}return n.prototype.ngOnInit=function(){},n}(),Ie=l["\u0275crt"]({encapsulation:0,styles:[[".im-center-block[_ngcontent-%COMP%]{padding-top:400px}"]],data:{}});function _e(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"im-infinite-thread",[],null,null,null,ye,pe)),l["\u0275prd"](512,null,de,de,[y.a,et.a]),l["\u0275did"](2,245760,null,0,ce,[on.o,S.p,S.a,et.a,l.ChangeDetectorRef,an.a,de,I.a],null,null)],function(n,t){n(t,2,0)},null)}function Me(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"im-thread-container",[],null,null,null,_e,Ie)),l["\u0275did"](1,114688,null,0,Ce,[],null,null)],function(n,t){n(t,1,0)},null)}var we=l["\u0275ccf"]("im-thread-container",Ce,Me,{},{},[]),Te=function(n){function t(t,e,l,o,r,a){var i=n.call(this)||this;return i.router=t,i.route=e,i.store=l,i.browserUrlService=o,i.changeDetectorRef=r,i.quoteService=a,i}return Object(F.__extends)(t,n),t.prototype.ngOnInit=function(){var n=this;this.subscribe(this.store.pipe(Object(on.F)(function(n){var t=n.router.state.params.threadId;return t?[n.forum.threadsById[t],n.user]:[]}),Object(un.a)(function(n){return!!n[0]})),function(t){var e=t[0],l=t[1];n.thread=e,n.user=l,n.title='Replying to <span class="im-red">'+n.thread.user.name+'</span> on "'+e.title+'"',n.draftKey="thread"+n.thread.id,n.draftQuoteKey=n.quoteService.getQuoteDraftKey(n.thread.id,"thread"),n.changeDetectorRef.markForCheck()})},t.prototype.onSubmitPost=function(n){this.store.dispatch(new rn.t({post:{title:n.title,message:n.description},thread:this.thread}))},t.prototype.onNavigateBackToThread=function(){var n=this.route.snapshot.queryParams.p||null,t=this.browserUrlService.getUrlForThreadPage(this.route.snapshot.url,this.route.snapshot.queryParams.pg||this.thread.totalPages);return n&&(t+="#post"+n),this.router.navigateByUrl(t)},t}(U.a),xe=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function je(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"im-light-editor",[],null,[[null,"onNavigateBack"],[null,"onSubmit"]],function(n,t,e){var l=!0,o=n.component;return"onNavigateBack"===t&&(l=!1!==o.onNavigateBackToThread()&&l),"onSubmit"===t&&(l=!1!==o.onSubmitPost(e)&&l),l},ln,$)),l["\u0275did"](1,245760,null,0,z,[b.e,_.e,O.a,B.a,I.a,l.ChangeDetectorRef,Q.a],{title:[0,"title"],contentType:[1,"contentType"],draftKey:[2,"draftKey"],draftQuoteKey:[3,"draftQuoteKey"],user:[4,"user"]},{onNavigateBack:"onNavigateBack",onSubmit:"onSubmit"})],function(n,t){var e=t.component;n(t,1,0,e.title,"post",e.draftKey,e.draftQuoteKey,e.user)},null)}function Se(n){return l["\u0275vid"](2,[(n()(),l["\u0275and"](16777216,null,null,1,null,je)),l["\u0275did"](1,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,t.component.thread)},null)}function Re(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"im-light-new-post",[],null,null,null,Se,xe)),l["\u0275did"](1,245760,null,0,Te,[S.p,S.a,on.o,an.a,l.ChangeDetectorRef,Q.a],null,null)],function(n,t){n(t,1,0)},null)}var ke=l["\u0275ccf"]("im-light-new-post",Te,Re,{},{},[]),Le=function(n){function t(t,e){var l=n.call(this)||this;return l.store=t,l.router=e,l.searchTerms=new cn.a,l.search(l.searchTerms).subscribe(function(){}),l}return Object(F.__extends)(t,n),t.prototype.ngOnInit=function(){var n=this;this.subscribe(this.store.pipe(Object(on.F)(function(n){return(n.forum||{forumsData:null}).forumsData}),Object(un.a)(function(n){return!!n})),function(t){n.forumsData=t})},t.prototype.sortAlphabetically=function(){this.forumsData.forums.sort(function(n,t){var e=n.title.toUpperCase(),l=t.title.toUpperCase();return e<l?-1:e>l?1:0})},t.prototype.forumClick=function(n){n.children?n.expanded=!n.expanded:this.navigateToForum(n.id)},t.prototype.navigateToForum=function(n){var t=fn(this.getForum(n).link);this.router.navigateByUrl(t)},t.prototype.getForum=function(n){return this.forumsData.forums.find(function(t){return t.id===n})},t.prototype.getForumTitle=function(n){var t=this.getForum(n).title;return this.words?this.highlight(t):t},t.prototype.highlight=function(n){return n.replace(this.getRegex(this.words),function(n){return'<span class="im-red-hover">'+n+"</span>"})},t.prototype.getRegex=function(n){return new RegExp(n,"gi")},t.prototype.onKeyUp=function(){this.searchTerms.next(this.words)},t.prototype.search=function(n){var t=this;return n.pipe(Object(A.a)(400),Object(sn.a)(),Object(dn.a)(function(n){return t.filterHierarchyResults(n,t.forumsData.hierarchy)}))},t.prototype.filterHierarchyResults=function(n,t){var e=this,l=!0;return(t||[]).forEach(function(t){var o=e.getForum(t.id);-1===(n?o.title.search(e.getRegex(n)):0)?t.hide=!t.children||e.filterHierarchyResults(n,t.children):(t.hide=!1,t.children&&e.filterHierarchyResults("",t.children)),t.hide||(l=!1)}),l},t}(U.a),Ee=l["\u0275crt"]({encapsulation:0,styles:[[".visible-phone[_ngcontent-%COMP%]{display:none}@media (min-width:360px){.visible-phone[_ngcontent-%COMP%]{display:initial}}.visible-tablet[_ngcontent-%COMP%]{display:none}.forum-picker[_ngcontent-%COMP%]   .noChildren[_ngcontent-%COMP%]{padding-left:15px}.forum-picker[_ngcontent-%COMP%]   .hasChildren[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%] > .click-handle[_ngcontent-%COMP%] > .chevron-container[_ngcontent-%COMP%]   .fa-chevron-circle-down[_ngcontent-%COMP%], .forum-picker[_ngcontent-%COMP%]   .noChildren[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%] > .click-handle[_ngcontent-%COMP%] > .chevron-container[_ngcontent-%COMP%]{display:none}.forum-picker[_ngcontent-%COMP%]   .hasChildren.expanded[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%] > .click-handle[_ngcontent-%COMP%] > .chevron-container[_ngcontent-%COMP%]   .fa-chevron-circle-down[_ngcontent-%COMP%]{display:initial}.forum-picker[_ngcontent-%COMP%]   .hasChildren.expanded[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%] > .click-handle[_ngcontent-%COMP%] > .chevron-container[_ngcontent-%COMP%]   .fa-chevron-circle-right[_ngcontent-%COMP%]{display:none}ul[_ngcontent-%COMP%]{list-style:none;padding-left:20px}ul[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%]   .forum-title[_ngcontent-%COMP%]{color:#930000;font-weight:900}ul[_ngcontent-%COMP%]   .forum-header[_ngcontent-%COMP%]{display:flex;justify-content:left}ul[_ngcontent-%COMP%]   .click-handle[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]   .click-handle[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{color:#930000}ul[_ngcontent-%COMP%]   .forum-link[_ngcontent-%COMP%]{flex-grow:1;padding-left:10px;margin-left:10px;color:#930000;cursor:pointer}ul[_ngcontent-%COMP%]   .forum-link[_ngcontent-%COMP%]:hover, ul[_ngcontent-%COMP%]   .noChildren[_ngcontent-%COMP%]:hover   .forum-link[_ngcontent-%COMP%]{color:#b71111}ul[_ngcontent-%COMP%]   .forum-title[_ngcontent-%COMP%]{padding-left:6px}ul.forum-picker[_ngcontent-%COMP%]{padding:5px}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{border-bottom:1px solid #e7e7e7}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%]{padding:12px 0}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%]   .forum-title[_ngcontent-%COMP%]{font-weight:900}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child{margin-bottom:3px}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%]{padding:5px 0;font-size:15px}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .forum-header[_ngcontent-%COMP%]{padding:3px 0;font-size:13px}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child{padding-bottom:5px}h1[_ngcontent-%COMP%]{margin-bottom:30px}.top-level[_ngcontent-%COMP%]{margin-bottom:40px}.top-level[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-transform:uppercase}.search-input-container[_ngcontent-%COMP%]{padding-bottom:10px}@media (min-width:768px){.visible-tablet[_ngcontent-%COMP%]{display:initial}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%]{font-size:16px}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%]   .forum-title[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{font-size:28px}h2[_ngcontent-%COMP%]{font-size:24px}}"]],data:{}});function De(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==(n.component.words="")&&l),l},null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"i",[["class","form-icon right im-icon-close"]],null,null,null,null,null))],null,null)}function Ne(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Fe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Be(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"ul",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,2,null,Fe)),l["\u0275did"](2,540672,null,0,M.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["\u0275pod"](3,{$implicit:0})],function(n,t){var e=n(t,3,0,t.parent.parent.context.$implicit.children);n(t,2,0,e,l["\u0275nov"](t.parent.parent.parent.parent.parent,6))},null)}function Ve(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,12,"li",[],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,M.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](2,{hasChildren:0,noChildren:1,expanded:2,selected:3}),(n()(),l["\u0275eld"](3,0,null,null,7,"div",[["class","forum-header"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,4,"span",[["class","click-handle"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.forumClick(n.parent.context.$implicit)&&l),l},null,null)),(n()(),l["\u0275eld"](5,0,null,null,2,"span",[["class","chevron-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,0,"span",[["class","fa fa-chevron-circle-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,0,"span",[["class","fa fa-chevron-circle-down"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,0,"span",[["class","forum-title"]],[[8,"innerHTML",1]],null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,1,"span",[["class","forum-link"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.navigateToForum(n.parent.context.$implicit.id)&&l),l},null,null)),(n()(),l["\u0275eld"](10,0,null,null,0,"i",[["class","fa fa-external-link-square"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Be)),l["\u0275did"](12,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=n(t,2,0,t.parent.context.$implicit.children,!t.parent.context.$implicit.children,t.parent.context.$implicit.expanded,t.parent.context.$implicit.id===t.component.forumId);n(t,1,0,e),n(t,12,0,t.parent.context.$implicit.children&&t.parent.context.$implicit.expanded)},function(n,t){n(t,8,0,t.component.getForumTitle(t.parent.context.$implicit.id))})}function Ae(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Ve)),l["\u0275did"](2,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,t){n(t,2,0,!t.context.$implicit.hide)},null)}function Ue(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Ae)),l["\u0275did"](2,278528,null,0,M.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,t){n(t,2,0,t.parent.context.$implicit)},null)}function Qe(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,Ue)),l["\u0275did"](1,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,t){n(t,1,0,null==t.context.$implicit?null:t.context.$implicit.length)},null)}function ze(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","top-level"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"h2",[["class","forum-title"]],[[8,"innerHTML",1]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"ul",[["class","forum-picker"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,2,null,Ne)),l["\u0275did"](4,540672,null,0,M.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["\u0275pod"](5,{$implicit:0}),(n()(),l["\u0275and"](0,[["recursiveList",2]],null,0,null,Qe))],function(n,t){var e=n(t,5,0,t.context.$implicit.children);n(t,4,0,e,l["\u0275nov"](t,6))},function(n,t){n(t,1,0,t.component.getForumTitle(t.context.$implicit.id))})}function $e(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","forum-picker-container forums-list-container"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,ze)),l["\u0275did"](2,278528,null,0,M.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){var e=t.component;n(t,2,0,null==e.forumsData?null:e.forumsData.hierarchy)},null)}function Ke(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,15,"div",[["class","im-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,14,"div",[["class","im-center-block"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["IndiaMike Forums"])),(n()(),l["\u0275eld"](4,0,null,null,9,"div",[["class","search-input-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,0,"i",[["class","form-icon left fa fa-search"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,5,"input",[["class","search-bar form-control input-lg"],["placeholder","Filter forums"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var o=!0,r=n.component;return"input"===t&&(o=!1!==l["\u0275nov"](n,7)._handleInput(e.target.value)&&o),"blur"===t&&(o=!1!==l["\u0275nov"](n,7).onTouched()&&o),"compositionstart"===t&&(o=!1!==l["\u0275nov"](n,7)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l["\u0275nov"](n,7)._compositionEnd(e.target.value)&&o),"ngModelChange"===t&&(o=!1!==(r.words=e)&&o),"keyup"===t&&(o=!1!==r.onKeyUp()&&o),o},null,null)),l["\u0275did"](7,16384,null,0,_.d,[l.Renderer2,l.ElementRef,[2,_.a]],null,null),l["\u0275prd"](1024,null,_.l,function(n){return[n]},[_.d]),l["\u0275did"](9,671744,null,0,_.p,[[8,null],[8,null],[8,null],[6,_.l]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,_.m,null,[_.p]),l["\u0275did"](11,16384,null,0,_.n,[[4,_.m]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,De)),l["\u0275did"](13,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,$e)),l["\u0275did"](15,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,9,0,e.words),n(t,13,0,e.words),n(t,15,0,e.forumsData&&(null==e.forumsData?null:null==e.forumsData.hierarchy?null:e.forumsData.hierarchy.length))},function(n,t){n(t,6,0,l["\u0275nov"](t,11).ngClassUntouched,l["\u0275nov"](t,11).ngClassTouched,l["\u0275nov"](t,11).ngClassPristine,l["\u0275nov"](t,11).ngClassDirty,l["\u0275nov"](t,11).ngClassValid,l["\u0275nov"](t,11).ngClassInvalid,l["\u0275nov"](t,11).ngClassPending)})}function qe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"im-forums-page",[],null,null,null,Ke,Ee)),l["\u0275did"](1,245760,null,0,Le,[on.o,S.p],null,null)],function(n,t){n(t,1,0)},null)}var He=l["\u0275ccf"]("im-forums-page",Le,qe,{},{},[]),Ge=l["\u0275crt"]({encapsulation:0,styles:[[".visible-phone[_ngcontent-%COMP%]{display:none}@media (min-width:360px){.visible-phone[_ngcontent-%COMP%]{display:initial}}.visible-tablet[_ngcontent-%COMP%]{display:none}.forum-picker[_ngcontent-%COMP%]   .noChildren[_ngcontent-%COMP%]{padding-left:15px}.forum-picker[_ngcontent-%COMP%]   .hasChildren[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%] > .click-handle[_ngcontent-%COMP%] > .chevron-container[_ngcontent-%COMP%]   .fa-chevron-circle-down[_ngcontent-%COMP%], .forum-picker[_ngcontent-%COMP%]   .noChildren[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%] > .click-handle[_ngcontent-%COMP%] > .chevron-container[_ngcontent-%COMP%]{display:none}.forum-picker[_ngcontent-%COMP%]   .hasChildren.expanded[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%] > .click-handle[_ngcontent-%COMP%] > .chevron-container[_ngcontent-%COMP%]   .fa-chevron-circle-down[_ngcontent-%COMP%]{display:initial}.forum-picker[_ngcontent-%COMP%]   .hasChildren.expanded[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%] > .click-handle[_ngcontent-%COMP%] > .chevron-container[_ngcontent-%COMP%]   .fa-chevron-circle-right[_ngcontent-%COMP%]{display:none}ul[_ngcontent-%COMP%]{list-style:none;padding-left:20px}ul[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%]   .forum-title[_ngcontent-%COMP%]{color:#930000;font-weight:900}ul[_ngcontent-%COMP%]   .forum-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}ul[_ngcontent-%COMP%]   .click-handle[_ngcontent-%COMP%]{cursor:pointer;flex-grow:1}ul[_ngcontent-%COMP%]   .click-handle[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{color:#930000}ul[_ngcontent-%COMP%]   .forum-title[_ngcontent-%COMP%]{padding-left:6px}ul.forum-picker[_ngcontent-%COMP%]{padding:5px}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{border-bottom:1px solid #e7e7e7}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%]{padding:10px 0}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%]   .forum-title[_ngcontent-%COMP%]{font-weight:900}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{border-bottom:1px solid #e7e7e7}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child{margin-bottom:3px}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .forum-header[_ngcontent-%COMP%]{padding:10px 0}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .forum-header[_ngcontent-%COMP%]{font-size:12px}ul.forum-picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child{padding-bottom:5px}.im-close-btn[_ngcontent-%COMP%]{top:-26px}.mat-dialog-title[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}@media (min-width:375px){.mat-dialog-title[_ngcontent-%COMP%]{font-size:18px}}@media (min-width:768px){.visible-tablet[_ngcontent-%COMP%]{display:initial}.mat-dialog-title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:15px}}.search-input-container[_ngcontent-%COMP%]{padding-bottom:10px}.search-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-bottom-width:2px}.mat-dialog-content[_ngcontent-%COMP%]{max-height:60vh}.mat-dialog-actions[_ngcontent-%COMP%]{padding-bottom:20px}"]],data:{}});function Je(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==(n.component.words="")&&l),l},null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"i",[["class","form-icon right im-icon-close"]],null,null,null,null,null))],null,null)}function We(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ye(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,9,"span",[["class","im-radio"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,6,"input",[["name","forum"],["type","radio"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,t,e){var o=!0,r=n.component;return"input"===t&&(o=!1!==l["\u0275nov"](n,2)._handleInput(e.target.value)&&o),"blur"===t&&(o=!1!==l["\u0275nov"](n,2).onTouched()&&o),"compositionstart"===t&&(o=!1!==l["\u0275nov"](n,2)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l["\u0275nov"](n,2)._compositionEnd(e.target.value)&&o),"change"===t&&(o=!1!==l["\u0275nov"](n,3).onChange()&&o),"blur"===t&&(o=!1!==l["\u0275nov"](n,3).onTouched()&&o),"ngModelChange"===t&&(o=!1!==(r.forumId=e)&&o),"ngModelChange"===t&&(o=!1!==r.choose()&&o),o},null,null)),l["\u0275did"](2,16384,null,0,_.d,[l.Renderer2,l.ElementRef,[2,_.a]],null,null),l["\u0275did"](3,212992,null,0,_.r,[l.Renderer2,l.ElementRef,_.z,l.Injector],{name:[0,"name"],value:[1,"value"]},null),l["\u0275prd"](1024,null,_.l,function(n,t){return[n,t]},[_.d,_.r]),l["\u0275did"](5,671744,null,0,_.p,[[8,null],[8,null],[8,null],[6,_.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,_.m,null,[_.p]),l["\u0275did"](7,16384,null,0,_.n,[[4,_.m]],null,null),(n()(),l["\u0275eld"](8,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,0,"span",[["class","check"]],null,null,null,null,null))],function(n,t){var e=t.component;n(t,3,0,"forum",t.parent.parent.context.$implicit.id),n(t,5,0,"forum",e.forumId)},function(n,t){n(t,1,0,l["\u0275inlineInterpolate"](1,"","forum"+t.parent.parent.context.$implicit.id,""),l["\u0275nov"](t,7).ngClassUntouched,l["\u0275nov"](t,7).ngClassTouched,l["\u0275nov"](t,7).ngClassPristine,l["\u0275nov"](t,7).ngClassDirty,l["\u0275nov"](t,7).ngClassValid,l["\u0275nov"](t,7).ngClassInvalid,l["\u0275nov"](t,7).ngClassPending),n(t,8,0,l["\u0275inlineInterpolate"](1,"","forum"+t.parent.parent.context.$implicit.id,""))})}function Ze(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Xe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"ul",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,2,null,Ze)),l["\u0275did"](2,540672,null,0,M.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["\u0275pod"](3,{$implicit:0})],function(n,t){var e=n(t,3,0,t.parent.parent.context.$implicit.children);n(t,2,0,e,l["\u0275nov"](t.parent.parent.parent.parent.parent,4))},null)}function nl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,12,"li",[],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,M.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](2,{hasChildren:0,noChildren:1,expanded:2,selected:3}),(n()(),l["\u0275eld"](3,0,null,null,7,"div",[["class","forum-header"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,4,"span",[["class","click-handle"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.forumClick(n.parent.context.$implicit)&&l),l},null,null)),(n()(),l["\u0275eld"](5,0,null,null,2,"span",[["class","chevron-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,0,"span",[["class","fa fa-chevron-circle-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,0,"span",[["class","fa fa-chevron-circle-down"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,0,"span",[["class","forum-title"]],[[8,"innerHTML",1]],null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Ye)),l["\u0275did"](10,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Xe)),l["\u0275did"](12,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component,l=n(t,2,0,t.parent.context.$implicit.children,!t.parent.context.$implicit.children,t.parent.context.$implicit.expanded,t.parent.context.$implicit.id===e.forumId);n(t,1,0,l),n(t,10,0,e.canContainThreads(t.parent.context.$implicit.id)),n(t,12,0,t.parent.context.$implicit.children&&t.parent.context.$implicit.expanded)},function(n,t){n(t,8,0,t.component.getForumTitle(t.parent.context.$implicit.id))})}function tl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,nl)),l["\u0275did"](2,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,t){n(t,2,0,!t.context.$implicit.hide)},null)}function el(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,tl)),l["\u0275did"](2,278528,null,0,M.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,t){n(t,2,0,t.parent.context.$implicit)},null)}function ll(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,el)),l["\u0275did"](1,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,t){n(t,1,0,null==t.context.$implicit?null:t.context.$implicit.length)},null)}function ol(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"ul",[["class","forum-picker"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,2,null,We)),l["\u0275did"](2,540672,null,0,M.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["\u0275pod"](3,{$implicit:0}),(n()(),l["\u0275and"](0,[["recursiveList",2]],null,0,null,ll))],function(n,t){var e=n(t,3,0,t.component.forumsData.hierarchy);n(t,2,0,e,l["\u0275nov"](t,4))},null)}function rl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,16,"div",[["class","relative"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","close-btn im-close-btn"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onClose()&&l),l},null,null)),(n()(),l["\u0275eld"](3,0,null,null,0,"i",[["class","im-icon-close"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,2,"h2",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l["\u0275did"](5,81920,null,0,b.m,[[2,b.l],l.ElementRef,b.e],null,null),(n()(),l["\u0275ted"](-1,null,["Choose a forum to host your thread"])),(n()(),l["\u0275eld"](7,0,null,null,9,"div",[["class","search-input-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,0,"i",[["class","form-icon left fa fa-search"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,5,"input",[["class","search-bar form-control input-lg"],["placeholder","Filter forums"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var o=!0,r=n.component;return"input"===t&&(o=!1!==l["\u0275nov"](n,10)._handleInput(e.target.value)&&o),"blur"===t&&(o=!1!==l["\u0275nov"](n,10).onTouched()&&o),"compositionstart"===t&&(o=!1!==l["\u0275nov"](n,10)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l["\u0275nov"](n,10)._compositionEnd(e.target.value)&&o),"ngModelChange"===t&&(o=!1!==(r.words=e)&&o),"keyup"===t&&(o=!1!==r.onKeyUp()&&o),o},null,null)),l["\u0275did"](10,16384,null,0,_.d,[l.Renderer2,l.ElementRef,[2,_.a]],null,null),l["\u0275prd"](1024,null,_.l,function(n){return[n]},[_.d]),l["\u0275did"](12,671744,null,0,_.p,[[8,null],[8,null],[8,null],[6,_.l]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,_.m,null,[_.p]),l["\u0275did"](14,16384,null,0,_.n,[[4,_.m]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,Je)),l["\u0275did"](16,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](17,0,null,null,4,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),l["\u0275did"](18,16384,null,0,b.j,[],null,null),(n()(),l["\u0275eld"](19,0,null,null,2,"div",[["class","forum-picker-container"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,ol)),l["\u0275did"](21,16384,null,0,M.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](22,0,null,null,8,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),l["\u0275did"](23,16384,null,0,b.f,[],null,null),(n()(),l["\u0275eld"](24,0,null,null,2,"button",[["class","im-btn"],["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.submit()&&l),l},Fn.b,Fn.a)),l["\u0275did"](25,180224,null,0,Bn.b,[l.ElementRef,x.a,Vn.g,[2,j.a]],{disabled:[0,"disabled"]},null),(n()(),l["\u0275ted"](-1,0,["Submit"])),(n()(),l["\u0275eld"](27,0,null,null,3,"button",[["class","im-btn-secondary"],["mat-button",""],["mat-dialog-close",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0]],[[null,"click"]],function(n,t,e){var o=!0;return"click"===t&&(o=!1!==l["\u0275nov"](n,29).dialogRef.close(l["\u0275nov"](n,29).dialogResult)&&o),o},Fn.b,Fn.a)),l["\u0275did"](28,180224,null,0,Bn.b,[l.ElementRef,x.a,Vn.g,[2,j.a]],null,null),l["\u0275did"](29,606208,null,0,b.g,[[2,b.l],l.ElementRef,b.e],{dialogResult:[0,"dialogResult"]},null),(n()(),l["\u0275ted"](-1,0,["Cancel"]))],function(n,t){var e=t.component;n(t,5,0),n(t,12,0,e.words),n(t,16,0,e.words),n(t,21,0,e.forumsData),n(t,25,0,!e.forumId),n(t,29,0,"")},function(n,t){n(t,4,0,l["\u0275nov"](t,5).id),n(t,9,0,l["\u0275nov"](t,14).ngClassUntouched,l["\u0275nov"](t,14).ngClassTouched,l["\u0275nov"](t,14).ngClassPristine,l["\u0275nov"](t,14).ngClassDirty,l["\u0275nov"](t,14).ngClassValid,l["\u0275nov"](t,14).ngClassInvalid,l["\u0275nov"](t,14).ngClassPending),n(t,24,0,l["\u0275nov"](t,25).disabled||null,"NoopAnimations"===l["\u0275nov"](t,25)._animationMode),n(t,27,0,l["\u0275nov"](t,28).disabled||null,"NoopAnimations"===l["\u0275nov"](t,28)._animationMode,l["\u0275nov"](t,29).ariaLabel)})}function al(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"im-forum-picker",[],null,null,null,rl,Ge)),l["\u0275did"](1,245760,null,0,pn,[on.o,b.l],null,null)],function(n,t){n(t,1,0)},null)}var il=l["\u0275ccf"]("im-forum-picker",pn,al,{},{},[]),ul=e("M2Lx"),sl=e("eDkP"),dl=e("jQLj"),cl=e("mVsa"),pl=e("uGex"),gl=e("t/Na"),fl=e("OzfB"),hl=e("zFDr"),ml=e("QWg3"),vl=e("8Fzo"),Pl=e("J7z9"),bl=e("7yJy"),Ol=e("R+YR"),yl=e("yyYM"),Cl=e("cFLI"),Il=e("F/XL"),_l=e("9Z1F"),Ml=e("psW0"),wl=e("P6uZ"),Tl=e("Wa2p"),xl=e("HSwk"),jl=e("U2av");function Sl(n){return Object(Zt.l)("thread-"+n)}var Rl=function(){function n(n,t,e,l,o,r,a){this.threadService=n,this.vBulletin=t,this.location=e,this.messageService=l,this.router=o,this.platformQuery=r,this.transferState=a,this.canonicalPathRegex=new RegExp(".*-f([0-9]+?)/.*-t([0-9]+?)/([0-9]+)/?$")}return n.prototype.parsePostIdFromFragment=function(n){return n?Number.parseInt(n.split("t")[1],10):null},n.prototype.writeToTransferState=function(n,t){var e=Sl(n);this.transferState.set(e,t)},n.prototype.ensureContentValidity=function(n){n&&(n.posts.status=this.threadService.getStatusOfPosts(n.posts.values))},n.prototype.readFromTransferState=function(n){var t=Sl(n),e=this.transferState.get(t,null);return this.ensureContentValidity(e),e},n.prototype.resolve=function(n,t){var e=this,l=n.params.threadId;if(this.platformQuery.isPlatformBrowser()){var o=this.readFromTransferState(l);if(o)return Object(Il.a)(o)}var r=this._resolve(n,t);return this.platformQuery.isPlatformServer()&&r.subscribe(function(n){e.writeToTransferState(l,n)}),r},n.prototype._resolve=function(n,t){var e=n.params,l=e.forumId,o=e.threadId,r=Number.parseInt(n.params.postId,10)||this.parsePostIdFromFragment(n.fragment),a=Number.parseInt(n.params.page,10)||1;return l&&o&&a?r||1!==a?this.getEnoughPosts(l,o,a,r).pipe(Object(_l.a)(this.handleErrors.bind(this))):this.threadService.getThreadWithPosts(l,o,a).pipe(Object(_l.a)(this.handleErrors.bind(this))):this.findCanonicalUrlThroughVbulletin(n)},n.prototype.findCanonicalUrlThroughVbulletin=function(n){var t=this,e=Number.parseInt(n.params.postId,10)||this.parsePostIdFromFragment(n.fragment),l=this.getVbulletinUrl(n);return this.vBulletin.getHtml(l).pipe(Object(Ml.a)(function(n){var l=n.url;return t.isCanonicalPath(l)&&(l.endsWith("/")||(l+="/"),l+="#post"+e),t.router.navigateByUrl(l),Object(Il.a)(null)}))},n.prototype.handleErrors=function(n){return Object(jl.a)(this.router,this.messageService,n)},n.prototype.getEnoughPosts=function(n,t,e,l){var o=this,r=new cn.a;return this.threadService.getThreadWithPosts(n,t,e).pipe(Object(_l.a)(function(n){return r.error(n),o.handleErrors(n)})).subscribe(function(a){var i=0;l&&(i=a.posts.values.findIndex(function(n){return n.id===l}));var u=i+1,s=Tl.a.POSTS_PER_PAGE;3<u&&u<s-3+1?r.next(a):u<=3&&e>1?o.threadService.getNewPosts(n,t,e-1).pipe(Object(_l.a)(o.handleErrors.bind(o))).subscribe(function(n){a.posts.values=[].concat(n.values,a.posts.values),r.next(a)}):u<=3&&1===e?r.next(a):s-3+1<=u&&o.threadService.getNewPosts(n,t,e+1).pipe(Object(_l.a)(o.handleErrors.bind(o))).subscribe(function(n){a.posts.values=[].concat(a.posts.values,n.values),r.next(a)})}),r.asObservable().pipe(Object(wl.a)())},n.prototype.isCanonicalPath=function(n){return this.canonicalPathRegex.test(n)},n.prototype.getVbulletinUrl=function(n){var t=this.location.path(!0),e=n.pathFromRoot.map(function(n){return n.url.join("/")}).join("/");return t.includes(e)?t:e},n}(),kl=e("15JJ"),Ll=function(){function n(n,t){this.store=n,this.threadResolver=t}return n.prototype.parsePostIdFromFragment=function(n){return n?Number.parseInt(n.split("t")[1],10):null},n.prototype.resolve=function(n,t){var e=n.params,l=e.forumId,o=e.threadId,r=(Number.parseInt(n.params.postId,10)||this.parsePostIdFromFragment(n.fragment),Number.parseInt(n.params.page,10)||1);return l&&o&&r?(this.store.dispatch(new rn.p({forumId:l,threadId:o,page:r})),Object(Il.a)(new rn.s)):this.threadResolver.findCanonicalUrlThroughVbulletin(n).pipe(Object(kl.a)(function(){return Object(Il.a)(new rn.s)}))},n}(),El=e("t9fZ"),Dl=e("xMyE"),Nl=e("LvDl"),Fl=e("DvEh"),Bl=function(){function n(n,t,e,l,o){this.store=n,this.threadResolver=t,this.threadService=e,this.imApiService=l,this.router=o}return n.prototype.parsePostIdFromFragment=function(n){return n?Number.parseInt(n.split("t")[1],10):null},n.prototype.resolve=function(n,t){var e=n.params,l=e.forumId,o=e.threadId,r=e.directive,a=(Number.parseInt(n.params.postId,10)||this.parsePostIdFromFragment(n.fragment),Number.parseInt(n.params.page,10)||1);return l&&o&&a?Object(Nl.isNil)(r)?(this.store.dispatch(new Gn({forumId:l,threadId:o,page:a})),Object(Il.a)(new rn.s)):this.resolveDirective(l,o,r,t.url):this.threadResolver.findCanonicalUrlThroughVbulletin(n).pipe(Object(kl.a)(function(){return Object(Il.a)(new rn.s)}))},n.prototype.resolveDirective=function(n,t,e,l){var o=this,r=new RegExp("(.*-f[0-9]+?\\/.*-t[0-9]+?)\\/new-post\\/?$").exec(l),a=r[1],i=r[1];switch(e){case"new-post":return this.threadService.getThreadWithoutPosts(n,t).pipe(Object(El.a)(1),Object(Dl.a)(function(n){var t=n.data,e=t.firstUnreadPost,l=t.lastPost,r=Object(Nl.isNil)(e)?l:e,a=o.threadService.getPageOfPostNumber(r.position);return 1!==a&&(i+="/"+a),o.router.navigateByUrl(i+="/#post"+r.id)}),Object(_l.a)(function(){return o.router.navigateByUrl(a)}))}},n}(),Vl=function(){function n(n){this.store=n}return n.prototype.resolve=function(n,t){var e=n.params;return this.store.dispatch(new rn.r({forumId:e.forumId,threadId:e.threadId})),new rn.s},n}(),Al=e("6blF"),Ul=e("jYNz"),Ql=e("/PH2"),zl=e("Pvxg"),$l=e("Xui1"),Kl=function(){return(Kl=Object.assign||function(n){for(var t,e=1,l=arguments.length;e<l;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)},ql=function(){function n(n,t,e,l,o,r,a,i,u,s,d,c){this.actions=n,this.queuedThreadPostingService=t,this.threadService=e,this.store=l,this.sanitizer=o,this.route=r,this.router=a,this.browserUrlService=i,this.localStorage=u,this.messageService=s,this.imApiService=d,this.likeService=c}return n.prototype.hasThreadPageInState=function(n,t,e){return!!zl.a(null,[t,e],n.forum.threadPages)},n.prototype.hasThread=function(n,t){return!!zl.a(null,["threadsById",t],n.forum)},n.prototype.hasForumsInState=function(n){return!!zl.a(null,["forumsData"],n.forum)},n.prototype.threadAndPostIdsAtPage=function(n,t,e){return{thread:n.forum.threadsById[t],posts:n.forum.threadPages[t][e].postIds.map(function(t){return n.forum.postsById[t]})}},n.prototype.onLoadPage=function(){var n=this;return this.actions.pipe(Object(Ul.d)(rn.x.LoadPage),Object(dn.a)(function(n){return n.payload}),Object(Ql.a)(this.store),Object(kl.a)(function(t){var e=t[0],l=e.forumId,o=e.threadId,r=e.page,a=t[1];if(n.hasThreadPageInState(a,o,r)){var i=n.threadAndPostIdsAtPage(a,o,r).posts;return Object(Il.a)(new rn.o({posts:i,page:r}))}return n.threadService.getPosts(l,o,r).pipe(Object(dn.a)(function(t){var e=(t.values||[]).map(function(t){return n.sanitizePost(t)});return new rn.o({posts:e,page:r})}))}))},n.prototype.onLoadPageSuccess=function(){var n=this;return this.actions.pipe(Object(Ul.d)(rn.x.LoadPageSuccess),Object(dn.a)(function(n){return n.payload}),Object(Ql.a)(this.store),Object(dn.a)(function(t){var e=t[0].page,l=n.router.parseUrl(t[1].router.state.url).root.children[S.i].segments;"india"===l[0].path&&l.shift(),n.browserUrlService.changeThreadPageUrl(l,e)}))},n.prototype.onLoadPageBuffer=function(){var n=this;return this.actions.pipe(Object(Ul.d)(rn.x.LoadPageBuffer),Object(dn.a)(function(n){return n.payload}),Object(Ql.a)(this.store),Object(Ml.a)(function(t){var e=t[0],l=e.forumId,o=e.threadId,r=e.page,a=t[1];if(n.hasThreadPageInState(a,o,r)){var i=n.threadAndPostIdsAtPage(a,o,r).posts;return Object(Il.a)(new rn.n({posts:i,page:r}))}return n.threadService.getPosts(l,o,r).pipe(Object(dn.a)(function(t){var e=(t.values||[]).map(function(t){return n.sanitizePost(t)});return new rn.n({posts:e,page:r})}))}))},n.prototype.onLoadThread=function(){var n=this;return this.actions.pipe(Object(Ul.d)(rn.x.LoadThread),Object(dn.a)(function(n){return n.payload}),Object(Ql.a)(this.store),Object(kl.a)(function(t){var e=t[0],l=e.forumId,o=e.threadId,r=e.page,a=t[1];if(n.hasThreadPageInState(a,o,r)){var i=n.threadAndPostIdsAtPage(a,o,r),u=i.thread,s=i.posts;return Object(Il.a)(new rn.q({thread:u,page:r,posts:s}))}return n.threadService.getThreadWithPosts(l,o,r,{withFirstUnread:!0,withThread:!0}).pipe(Object(dn.a)(function(t){return n.convertThreadInfoDtoToLoadThreadSuccessAction(t,r)}))}))},n.prototype.onLoadThreadWithLastPage=function(){var n=this;return this.actions.pipe(Object(Ul.d)(rn.x.LoadThreadWithLastPage),Object(dn.a)(function(n){return n.payload}),Object(Ql.a)(this.store),Object(kl.a)(function(t){var e=t[0],l=e.forumId,o=e.threadId,r=t[1];return n.hasThread(r,o)?Object(Il.a)(r.forum.threadsById[o]):n.threadService.getThread(l,o)}),Object(Ql.a)(this.store),Object(kl.a)(function(t){var e=t[0],l=t[1];if(n.hasThreadPageInState(l,e.id,e.totalPages)){var o=l.forum.threadPages[e.id][e.totalPages].postIds.map(function(n){return l.forum.postsById[n]});return Object(Il.a)(new rn.q({thread:e,page:e.totalPages,posts:o}))}return n.threadService.getPosts(e.forum.id,e.id,e.totalPages).pipe(Object(dn.a)(function(t){return n.convertThreadInfoDtoToLoadThreadSuccessAction({thread:e,posts:t},e.totalPages)}))}))},n.prototype.convertThreadInfoDtoToLoadThreadSuccessAction=function(n,t){var e=this,l=n.thread;l.firstPost=this.sanitizePost(n.thread.firstPost);var o=(n.posts.values||[]).map(function(n){return e.sanitizePost(n)});return new rn.q({thread:l,page:t,posts:o})},n.prototype.onLikePost=function(){var n=this;return this.actions.pipe(Object(Ul.d)(rn.x.LikePost),Object(dn.a)(function(n){return n.payload}),Object(kl.a)(function(t){var e=t.forumId,l=t.threadId,o=t.postId,r=t.liked;return(r?n.likeService.like(o,$l.a.POST):n.likeService.unlike(o,$l.a.POST)).pipe(Object(dn.a)(function(){return new rn.j({forumId:e,threadId:l,postId:o,liked:r})}))}))},n.prototype.onReplyPost=function(){var n=this;return this.actions.pipe(Object(Ul.d)(rn.x.ReplyPost),Object(Ql.a)(this.store),Object(kl.a)(function(t){var e=t[1],l=t[0].payload,o=l.thread,r=l.post,a=e.user,i=e.router.state.url;return n.queuedThreadPostingService.saveOrUpdatePost(o.forum.id,o.id,r).pipe(Object(dn.a)(function(t){var e=n.sanitizePost(Kl({},r,{id:t.id}));return e.user={name:a.name,avatarLink:a.avatarLink,userTitle:"",posts:0,joinDate:"",location:"",signature:""},new rn.u({thread:o,post:e,url:i})}))}))},n.prototype.onEditPost=function(){var n=this;return this.actions.pipe(Object(Ul.d)(rn.x.EditPost),Object(kl.a)(function(t){var e=t.payload,l=e.forumId,o=e.threadId,r=e.post;return n.queuedThreadPostingService.saveOrUpdatePost(l,l,r).pipe(Object(dn.a)(function(t){return new rn.g({queuedJob:t,forumId:l,threadId:o,post:n.sanitizePost(r)})}))}))},n.prototype.onReplyPostQueued=function(){var n=this;return this.actions.pipe(Object(Ul.d)(rn.x.ReplyPostQueued),Object(dn.a)(function(n){return n.payload}),Object(kl.a)(function(t){n.localStorage.removeItem("thread"+t.thread.id);var e=t.thread.totalPages;n.willGenerateNewPage(t.thread.totalPosts)&&(e+=1);var l=t.url.replace(/newpost\?(.*)/,e+"#post"+t.post.id);return n.router.navigateByUrl(l)}))},n.prototype.onDeletePost=function(){var n=this;return this.actions.pipe(Object(Ul.d)(rn.x.DeletePost),Object(kl.a)(function(t){var e=t.payload,l=e.forumId,o=e.threadId,r=e.post;return n.queuedThreadPostingService.removePost(l,l,r).pipe(Object(dn.a)(function(n){return new rn.e({queuedJob:n,forumId:l,threadId:o,postId:r.id})}))}))},n.prototype.onCreateThread=function(){var n=this;return this.actions.pipe(Object(Ul.d)(rn.x.CreateThread),Object(kl.a)(function(t){var e=t.payload;return n.threadService.saveThread(e.forumId,e.newThread).pipe(Object(dn.a)(function(n){return n.threadId?new rn.c({threadId:n.threadId,sourceLink:n.sourceLink}):new rn.b({error_body:n.error_body})}),Object(_l.a)(function(t){return Object(jl.a)(n.router,n.messageService,t)}))}))},n.prototype.onCreateThreadSuccess=function(){var n=this;return this.actions.pipe(Object(Ul.d)(rn.x.CreateThreadSuccess),Object(dn.a)(function(n){return n.payload}),Object(kl.a)(function(t){return n.localStorage.removeItem("forumDraft"),n.messageService.notify({type:"success",text:"Thread "+t.threadId+" was created!"}),n.router.navigateByUrl((e=t.sourceLink)?e.startsWith("http")?e.split("/").splice(3).join("/"):e.startsWith("/")?e.substring(1):e:"");var e}))},n.prototype.onCreateThreadError=function(){var n=this;return this.actions.pipe(Object(Ul.d)(rn.x.CreateThreadError),Object(dn.a)(function(n){return n.payload}),Object(kl.a)(function(t){return n.messageService.notify({type:"danger",text:t.error_body}),n.router.navigateByUrl("/")}))},n.prototype.onLoadForums=function(){var n=this;return this.actions.pipe(Object(Ul.d)(rn.x.LoadForums),Object(Ql.a)(this.store),Object(kl.a)(function(t){return n.hasForumsInState(t[1])?Object(Il.a)():n.imApiService.get("forums").pipe(Object(dn.a)(function(n){return new rn.l(n)}))}))},n.prototype.willGenerateNewPage=function(n){return n%15==0},n.prototype.sanitizePost=function(n){return Kl({},n,{html:this.sanitizer.bypassSecurityTrustHtml(n.message)})},Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",Al.a)],n.prototype,"onLoadPage",null),Object(F.__decorate)([Object(Ul.b)({dispatch:!1}),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",void 0)],n.prototype,"onLoadPageSuccess",null),Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",Al.a)],n.prototype,"onLoadPageBuffer",null),Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",Al.a)],n.prototype,"onLoadThread",null),Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",Al.a)],n.prototype,"onLoadThreadWithLastPage",null),Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",Al.a)],n.prototype,"onLikePost",null),Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",Al.a)],n.prototype,"onReplyPost",null),Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",Al.a)],n.prototype,"onEditPost",null),Object(F.__decorate)([Object(Ul.b)({dispatch:!1}),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",void 0)],n.prototype,"onReplyPostQueued",null),Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",Al.a)],n.prototype,"onDeletePost",null),Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",Al.a)],n.prototype,"onCreateThread",null),Object(F.__decorate)([Object(Ul.b)({dispatch:!1}),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",void 0)],n.prototype,"onCreateThreadSuccess",null),Object(F.__decorate)([Object(Ul.b)({dispatch:!1}),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",void 0)],n.prototype,"onCreateThreadError",null),Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",Al.a)],n.prototype,"onLoadForums",null),n}(),Hl=function(){function n(n,t,e,l,o){this.threadResolver=n,this.lightThreadWithStoreResolver=t,this.infiniteThreadWithStoreResolver=e,this.store=l,this.lightThreadEffects=o,this.threadType="infinite-paginated"}return n.prototype.resolve=function(n,t){var e=this;return{infinite:this.threadResolver,paginated:this.lightThreadWithStoreResolver,"infinite-paginated":this.infiniteThreadWithStoreResolver}[this.threadType].resolve(n,t).pipe(Object(Dl.a)(function(t){if(!e.threadType.includes("paginated")){var l=e.lightThreadEffects.convertThreadInfoDtoToLoadThreadSuccessAction(t,n.params.page||1);e.store.dispatch(l)}}))},n}(),Gl=function(){function n(n){this.store=n}return n.prototype.resolve=function(){return this.store.dispatch(new rn.k({})),new rn.s},n}(),Jl=e("FVSy"),Wl=e("r43C"),Yl=e("/VYK"),Zl=e("seP3"),Xl=e("b716"),no=e("4c35"),to=e("qAlS"),eo=e("8mMr"),lo=e("Nsh5"),oo=e("/dO6"),ro=e("La40"),ao=e("y4qS"),io=e("BHnd"),uo=e("Z+uX"),so=e("jAig"),co=e("WtX+"),po=e("21Lb"),go=e("hUWP"),fo=e("3pJQ"),ho=e("V9q+"),mo=e("dU8u"),vo=e("54OS"),Po=e("n9gd"),bo=e("qiiV"),Oo=e("ItAH"),yo=e("RGtq"),Co=e("PCNd"),Io=e("yKQv");function _o(n){return Object(Io.a)(["forumId"],new RegExp(".*f([0-9]+?)\\/newthread"),n)}function Mo(n){return Object(Io.a)(["forumId","threadId","page"],new RegExp(".*-f([0-9]+?)\\/.*-t([0-9]+?)\\/newpost"),n)}function wo(n){return Object(Io.a)(["forumId","threadId","page"],new RegExp(".*-f([0-9]+?)/.*-t([0-9]+?)/([0-9]+)/?$"),n)}function To(n){return Object(Io.a)(["forumId","threadId"],new RegExp(".*-f([0-9]+?)/.*-t([0-9]+?)/?$"),n)}function xo(n){return Object(Io.a)(["postId"],new RegExp("([0-9]+?)-post1$"),n)}function jo(n){return Object(Io.a)(["forumId","threadId","postId"],new RegExp(".*-f([0-9]+?)\\/.*-t([0-9]+?)\\//p([0-9]+?)$"),n)}function So(n){return Object(Io.a)(["forumId","threadId","postId","page"],new RegExp(".*-f([0-9]+?)\\/.*-t([0-9]+?)\\//p([0-9]+?)\\/([0-9]+?)\\/?$"),n)}function Ro(n){return Object(Io.a)(["forumId","threadId","directive"],new RegExp(".*-f([0-9]+?)\\/.*-t([0-9]+?)\\/(new-post)\\/?$"),n)}function ko(n){return Object(Io.a)(["forumId","threadId"],new RegExp(".*-f([0-9]+?)\\/.*-t([0-9]+?)\\/last-post$"),n)}function Lo(n){return Object(Io.a)([],new RegExp("showthread.php"),n)}var Eo=function(){return function(){}}(),Do=e("ebi8"),No=e("9H50"),Fo=e("7s56"),Bo=Object(Fo.a)(function(n,t){return t},null),Vo=e("n90j"),Ao=function(){return(Ao=Object.assign||function(n){for(var t,e=1,l=arguments.length;e<l;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)};function Uo(n,t){rt.a.addBreadcrumb(n),rt.a.captureException(t),console.error(t)}var Qo=new Map([[Nn.NewPageInViewport,function(n,t){return Ao({},n,{currentThreadIdAndPage:Ao({},n.currentThreadIdAndPage,{page:t.payload.page})})}],[Nn.JumpToPage,function(n,t){return Ao({},n,{currentInfiniteThreadData:Ao({},n.currentInfiniteThreadData,{loadedPosts:[]})})}],[Nn.ExitThread,function(n){return Ao({},n,{currentThreadIdAndPage:{threadId:null,page:0},currentInfiniteThreadData:{loadedPosts:[],isLoadingPreviousPosts:!1,isFirstPageLoaded:!1,isLastPageLoaded:!1,didJumpToPage:!1}})}],[Nn.LoadInfiniteThreadSuccess,function(n,t){try{var e=t.payload,l=e.posts,o=e.page,r=e.thread,a={threadId:(r||{id:0}).id,page:o},i=1===o,u=o===(r||{totalPages:0}).totalPages,s=zo(Ao({},n,{currentThreadIdAndPage:a}),new rn.o({posts:l,page:o})),d=s.threadPages,c=s.postsById,p=Ao({},n.threadsById);return r&&(p[r.id]=r),Ao({},n,{postsById:c,threadsById:p,threadPages:d,currentThreadIdAndPage:a,currentInfiniteThreadData:Ao({},n.currentInfiniteThreadData,{loadedPosts:l.map(function(n){return n.id}),isFirstPageLoaded:i,isLastPageLoaded:u})})}catch(g){return Uo("onLoadInfiniteThreadSuccess",g),Ao({},n)}}],[Nn.LoadPagePostsSuccess,function(n,t){var e,l;try{var o=n.currentThreadIdAndPage.threadId,r=t.payload,a=r.page,i=r.posts,u=r.didRequestPageJump,s=n.threadPages,d=Vo.a(n.currentInfiniteThreadData),c=i.map(function(n){return""+n.id}),p=Bo(function(n){return""+n.id},i),g=Ao({},n.postsById,p);s[o]||(s[o]={}),s[o][a]={threadId:o,page:a,postIds:c};var f=i.map(function(n){return n.id});return u?(d.loadedPosts=f,d.didJumpToPage=!0,d.isLoadingPreviousPosts=!1,d.isFirstPageLoaded=1===a,d.isLastPageLoaded=a===n.threadsById[o].totalPages):(d.didJumpToPage=!1,function(n,t){var e=No.a(t.currentInfiniteThreadData.loadedPosts);return n===zl.a(null,["postsById",""+e,"page"],t)+1}(a,n)?((e=d.loadedPosts).push.apply(e,f),d.isLoadingPreviousPosts=!1,a>=n.threadsById[o].totalPages&&(d.isLastPageLoaded=!0)):function(n,t){return n===zl.a(null,["postsById",""+t.currentInfiniteThreadData.loadedPosts[0],"page"],t)-1}(a,n)&&((l=d.loadedPosts).unshift.apply(l,f),d.isLoadingPreviousPosts=!0,a<=1&&(d.isFirstPageLoaded=!0))),Ao({},n,{threadPages:s,postsById:g,currentInfiniteThreadData:d})}catch(h){return Uo("onLoadPagePostsSuccess",h),Ao({},n)}}],[Nn.LoadPagePostsBufferSuccess,function(n,t){try{var e=n.currentThreadIdAndPage.threadId,l=t.payload,o=l.page,r=l.posts,a=Vo.a(n.threadPages),i=r.map(function(n){return""+n.id});a[e][o]={threadId:e,page:o,postIds:i};var u=Bo(function(n){return""+n.id},r);return Ao({},n,{threadPages:a,postsById:Ao({},n.postsById,u)})}catch(s){return Uo("onLoadPagePostsBufferSuccess",s),Ao({},n)}}]]);function zo(n,t){try{var e=n.currentThreadIdAndPage.threadId,l=t.payload,o=l.page,r=l.posts,a=Ao({},n.threadPages),i=r.map(function(n){return""+n.id}),u=Bo(function(n){return""+n.id},r),s=Ao({},n.postsById,u);return a[e]||(a[e]={}),a[e][o]={threadId:e,page:o,postIds:i},Ao({},n,{threadPages:a,postsById:s,currentThreadIdAndPage:Ao({},n.currentThreadIdAndPage,{page:o})})}catch(d){return Uo("onLoadPageSuccess",d),Ao({},n)}}var $o=function(){return($o=Object.assign||function(n){for(var t,e=1,l=arguments.length;e<l;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)};function Ko(n,t){void 0===n&&(n={postsById:{},threadsById:{},threadPages:{},currentThreadIdAndPage:{threadId:null,page:0},currentInfiniteThreadData:{loadedPosts:[],isLoadingPreviousPosts:!1,isFirstPageLoaded:!1,isLastPageLoaded:!1,didJumpToPage:!1}});var e=new Map([[rn.x.LoadThreadSuccess,Go],[rn.x.LoadPageSuccess,zo],[rn.x.LoadPageBufferSuccess,Jo],[rn.x.LoadPageError,lr],[rn.x.LikePostSuccess,Wo],[rn.x.EditPost,Xo],[rn.x.EditPostQueued,Zo],[rn.x.DeletePostQueued,nr],[rn.x.SaveThreadDraft,tr],[rn.x.LoadForumsSuccess,er],[rn.x.ReplyPostQueued,Yo],[rn.x.ReplyPostSuccess,qo],[rn.x.EditPostSuccess,Ho]]);return Qo.forEach(function(n,t){e.set(t,n)}),e.has(t.type)?e.get(t.type)(n,t):n}function qo(n,t){var e,l=t.payload,o=l.newId,r=l.oldId,a=n.postsById[r].threadId,i=n.postsById,u=n.threadPages[a],s=n.currentInfiniteThreadData;i[o]=i[r],delete i[r],i[o]=$o({},i[o],{id:o,isQueued:!1}),Object.keys(u).forEach(function(n){var t=u[n].postIds.indexOf(""+r);-1!==t&&(u[n].postIds[t]=""+o)});var d=s.loadedPosts.indexOf(r);return-1!==d&&(s.loadedPosts[d]=o),$o({},n,{postsById:i,threadPages:(e={},e[a]=u,e),currentInfiniteThreadData:s})}function Ho(n,t){return n.postsById[t.payload.id].isQueued=!1,$o({},n)}function Go(n,t){var e,l=t.payload,o=l.posts,r=l.page,a=l.thread,i={threadId:a.id,page:r},u=zo($o({},n,{currentThreadIdAndPage:i}),new rn.o({posts:o,page:r})),s=u.threadPages,d=u.postsById,c=$o({},n.threadsById,((e={})[t.payload.thread.id]=a,e));return $o({},n,{postsById:d,threadsById:c,threadPages:s,currentThreadIdAndPage:i})}function Jo(n,t){var e=zo(n,t);return $o({},n,{threadPages:e.threadPages,postsById:e.postsById})}function Wo(n,t){var e,l=t.payload,o=l.postId,r=l.liked,a=$o({},n.postsById[o],{liked:r,likes:n.postsById[o].likes+(r?1:-1)}),i=$o({},n.postsById,((e={})[o]=a,e));return $o({},n,{postsById:i})}function Yo(n,t){var e,l,o=t.payload,r=o.thread,a=o.post,i={threadId:r.id,page:r.totalPages},u=$o({},n.threadPages),s=u[r.id][r.totalPages],d=n.currentInfiniteThreadData,c=$o({},n.threadsById[r.id]);if(c.totalPosts+=1,15===s.postIds.length){var p={threadId:s.threadId,postIds:[""+a.id],page:s.page+1};c.totalPages+=1,u[r.id][r.totalPages+1]=p,i.page=r.totalPages+1}else s.postIds=s.postIds.concat([""+a.id]),u[r.id][r.totalPages]=s;return d.loadedPosts=d.loadedPosts.concat([a.id]),$o({},n,{postsById:$o({},n.postsById,(e={},e[a.id]=$o({},a,{threadId:i.threadId,page:i.page,position:r.totalPosts+1}),e)),threadsById:$o({},n.threadsById,(l={},l[r.id]=c,l)),threadPages:u,currentThreadIdAndPage:i,currentInfiniteThreadData:d})}function Zo(n,t){var e,l=t.payload.post;return $o({},n,{postsById:$o({},n.postsById,(e={},e[l.id]=l,e))})}function Xo(n,t){return n.postsById[t.payload.post.id].isQueued=!0,$o({},n)}function nr(n,t){var e=t.payload,l=e.threadId,o=e.postId,r=n.postsById[o].page,a=$o({},n.currentThreadIdAndPage),i=$o({},n.threadsById),u=Do.a([""+o],n.postsById),s=n.currentInfiniteThreadData.loadedPosts,d=$o({},n.threadPages[l][r]),c=$o({},n.threadPages);1===d.postIds.length?(c[l]=Do.a([""+r],c[l]),a.page>1&&(a.page-=1)):(d.postIds=d.postIds.filter(function(n){return n!==""+o}),c[l][r]=d);var p=s.indexOf(o);return p>-1&&s.splice(p,1),$o({},n,{threadsById:i,postsById:u,threadPages:c,currentThreadIdAndPage:a,currentInfiniteThreadData:$o({},n.currentInfiniteThreadData,{loadedPosts:s})})}function tr(n,t){return $o({},n,{drafts:{thread:t.payload}})}function er(n,t){return $o({},n,{forumsData:t.payload})}function lr(n,t){}var or=e("gU5I"),rr=e("Dxox"),ar=e("MVMX"),ir=e("Q1FS"),ur=e("I65S"),sr=function(){return(sr=Object.assign||function(n){for(var t,e=1,l=arguments.length;e<l;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)},dr=function(){function n(n,t,e,l,o,r,a,i,u){this.actions=n,this.store=t,this.appMessageService=e,this.router=l,this.browserUrlService=o,this.scrollerService=r,this.threadService=a,this.sanitizer=i,this.messageService=u}return n.prototype.onLoadInfiniteThread=function(){var n=this;return this.actions.pipe(Object(Ul.d)(Nn.LoadInfiniteThread),Object(dn.a)(function(n){return n.payload}),Object(Ql.a)(this.store),Object(kl.a)(function(t){var e=t[0],l=e.forumId,o=e.threadId,r=e.page,a=t[1];if(n.hasThreadPageInState(a,o,r)){var i=n.threadAndPostIdsAtPage(a,o,r),u=i.thread,s=i.posts;if(n.containsQueuedPosts(s))return Object(ur.of)(new Jn({thread:u,page:r,posts:s}))}return n.threadService.getThreadWithPosts(l,o,r,{withFirstUnread:!0,withThread:!0}).pipe(Object(dn.a)(function(t){return n.convertThreadInfoDtoToLoadInfThreadSuccessAction(t,r)}),Object(_l.a)(function(t){return Object(jl.a)(n.router,n.messageService,t),Object(ur.of)(new nt)}))}),Object(_l.a)(function(t){return n.reportError("onLoadInfiniteThread",t),Object(ur.of)(new nt)}))},n.prototype.onNewPageInViewport=function(){var n=this;return this.actions.pipe(Object(Ul.d)(Nn.PostEnteredViewport),Object(A.a)(1e3),Object(dn.a)(function(n){return n.payload}),Object(Ql.a)(this.store),Object(un.a)(function(t){return t[0].page!==n.getCurrentPage(t[1])}),Object(dn.a)(function(n){var t=n[0];return new Kn({threadId:t.threadId,page:t.page})}),Object(_l.a)(function(t){return n.reportError("onNewPageInViewport",t),Object(ur.of)(new nt)}))},n.prototype.onNewPostInViewport=function(){var n=this;return this.actions.pipe(Object(Ul.d)(Nn.PostEnteredViewport),Object(A.a)(1e3),Object(Dl.a)(function(t){n.browserUrlService.updateFragment("post"+t.payload.postId)}))},n.prototype.onJumpToPage=function(){return this.actions.pipe(Object(Ul.d)(Nn.JumpToPage),Object(dn.a)(function(n){return new Wn(n.payload)}))},n.prototype.onLoadNextPage=function(){var n=this;return this.actions.pipe(Object(Ul.d)(Nn.PostEnteredViewport),Object(A.a)(1e3),Object(dn.a)(function(n){return n.payload}),Object(Ql.a)(this.store),Object(un.a)(function(n){var t=n[1],e=t.forum.currentInfiniteThreadData.loadedPosts.length;return t.forum.currentInfiniteThreadData.loadedPosts.indexOf(n[0].postId)>e-4}),Object(un.a)(function(t){var e=t[0],l=t[1];return n.isPageInCurrentThread(e.threadId,n.getPostPage(e.postId,l)+1,l)}),Object(dn.a)(function(t){var e=t[0],l=e.threadId,o=e.forumId,r=n.getPostPage(e.postId,t[1])+1;return new Wn({forumId:o,threadId:l,page:r})}),Object(_l.a)(function(t){return n.reportError("onLoadNextPage",t),Object(ur.of)(new nt)}))},n.prototype.onLoadPreviousPage=function(){var n=this;return this.actions.pipe(Object(Ul.d)(Nn.PostEnteredViewport),Object(A.a)(1e3),Object(dn.a)(function(n){return n.payload}),Object(Ql.a)(this.store),Object(un.a)(function(t){return!n.isFirstPageLoaded(t[0].postId,t[1])}),Object(un.a)(function(n){return n[1].forum.currentInfiniteThreadData.loadedPosts.indexOf(n[0].postId)<3}),Object(un.a)(function(t){var e=t[0],l=t[1];return n.isPageInCurrentThread(e.threadId,n.getPostPage(e.postId,l)-1,l)}),Object(dn.a)(function(t){var e=t[0],l=e.threadId,o=e.forumId,r=n.getPostPage(e.postId,t[1])-1;return new Wn({forumId:o,threadId:l,page:r})}),Object(_l.a)(function(t){return n.reportError("onLoadPreviousPage",t),Object(ur.of)(new nt)}))},n.prototype.onTrackPage=function(){var n=this;return this.actions.pipe(Object(Ul.d)(Nn.NewPageInViewport),Object(Ql.a)(this.store),Object(dn.a)(function(t){n.browserUrlService.changeCurrentThreadPage(t[1].router.state.url,t[0].payload.page)}),Object(_l.a)(function(t){return n.reportError("onTrackPage",t),Object(ur.of)(new nt)}))},n.prototype.onLoadPagePosts=function(){var n=this;return this.actions.pipe(Object(Ul.d)(Nn.LoadPagePosts),Object(dn.a)(function(n){return n.payload}),Object(Ql.a)(this.store),Object(kl.a)(function(t){var e=t[0],l=e.forumId,o=e.threadId,r=e.page,a=e.didRequestPageJump,i=t[1];if(n.hasThreadPageInState(i,o,r)){var u=n.threadAndPostIdsAtPage(i,o,r).posts;if(n.containsQueuedPosts(u))return Object(ur.of)(new Zn({posts:u,page:r,didRequestPageJump:a}))}return n.threadService.getPosts(l,o,r).pipe(Object(dn.a)(function(t){var e=(t.values||[]).map(function(t){return n.sanitizePost(t)});return new Zn({posts:e,page:r,didRequestPageJump:a})}),Object(_l.a)(function(t){return Object(jl.a)(n.router,n.messageService,t),Object(ur.of)(new nt)}))}),Object(_l.a)(function(t){return n.reportError("onLoadPagePosts",t),Object(ur.of)(new nt)}))},n.prototype.prefetchPreviousOrNextPages=function(){var n=this;return this.actions.pipe(Object(Ul.d)(Nn.NewPageInViewport),Object(dn.a)(function(n){return n.payload}),Object(Ql.a)(this.store),Object(un.a)(function(t){var e=t[1],l=n.getCurrentThreadId(e);return!lt.a(l)&&1!==n.getThreadTotalPages(l,e)}),Object(kl.a)(function(t){return n.preloadNextPosts(t[0].page,t[1])}),Object(_l.a)(function(t){return n.reportError("prefetchPreviousOrNextPages",t),Object(ur.of)(new nt)}))},n.prototype.onLoadPagePostsBuffer=function(){var n=this;return this.actions.pipe(Object(Ul.d)(Nn.LoadPagePostsBuffer),Object(dn.a)(function(n){return n.payload}),Object(Ql.a)(this.store),Object(Ml.a)(function(t){var e=t[0],l=e.forumId,o=e.threadId,r=e.page,a=t[1];if(n.hasThreadPageInState(a,o,r)){var i=n.threadAndPostIdsAtPage(a,o,r).posts;return Object(ur.of)(new Xn({posts:i,page:r}))}return n.threadService.getPosts(l,o,r).pipe(Object(dn.a)(function(t){var e=(t.values||[]).map(function(t){return n.sanitizePost(t)});return new Xn({posts:e,page:r})}),Object(_l.a)(function(t){return Object(jl.a)(n.router,n.messageService,t),Object(ur.of)(new nt)}))}),Object(_l.a)(function(t){return n.reportError("onLoadPagePostsBuffer",t),Object(ur.of)(new nt)}))},n.prototype.hasThreadPageInState=function(n,t,e){return!!zl.a(null,[t,e],n.forum.threadPages)},n.prototype.isPageInCurrentThread=function(n,t,e){return!(t<1)&&t<=this.getThreadTotalPages(n,e)},n.prototype.preloadNextPosts=function(n,t){try{var e=this.getCurrentThreadId(t);if(lt.a(e))return[];var l=this.getThread(t,e),o=[];return 1!==n&&o.push(new Yn({threadId:e,forumId:l.forum.id,page:n-1})),n!==l.totalPages&&o.push(new Yn({threadId:e,forumId:l.forum.id,page:n+1})),o}catch(r){return this.reportError("preloadNextPosts",r),[]}},n.prototype.threadAndPostIdsAtPage=function(n,t,e){try{return{thread:n.forum.threadsById[t],posts:n.forum.threadPages[t][e].postIds.map(function(t){return n.forum.postsById[t]})}}catch(l){return this.reportError("threadAndPostIdsAtPage",l),{thread:null,posts:[]}}},n.prototype.convertThreadInfoDtoToLoadInfThreadSuccessAction=function(n,t){var e=this;try{var l=n.thread;l.firstPost=this.sanitizePost(n.thread.firstPost);var o=(n.posts.values||[]).map(function(n){return e.sanitizePost(n)});return new Jn({thread:l,page:t,posts:o})}catch(r){return this.reportError("convertThreadInfoDtoToLoadInfThreadSuccessAction",r),new Jn({thread:null,page:0,posts:[]})}},n.prototype.sanitizePost=function(n){return sr({},n,{html:this.sanitizer.bypassSecurityTrustHtml(n.message)})},n.prototype.isFirstPageLoaded=function(n,t){return 1===this.getPostPage(n,t)},n.prototype.containsQueuedPosts=function(n){return n.some(function(n){return n.isQueued})},n.prototype.getCurrentThreadId=function(n){return zl.a(null,["currentThreadIdAndPage","threadId"],n.forum)},n.prototype.getThread=function(n,t){return zl.a(null,["threadsById",""+t],n.forum)},n.prototype.getThreadTotalPages=function(n,t){return zl.a(null,["threadsById",""+n,"totalPages"],t.forum)},n.prototype.getPostPage=function(n,t){return zl.a(null,["postsById",n,"page"],t.forum)},n.prototype.getCurrentPage=function(n){return zl.a(null,["currentThreadIdAndPage","page"],n.forum)},n.prototype.reportError=function(n,t){rt.a.addBreadcrumb(n),rt.a.captureException(t),console.log(n),console.error(t)},Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",ir.Observable)],n.prototype,"onLoadInfiniteThread",null),Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",void 0)],n.prototype,"onNewPageInViewport",null),Object(F.__decorate)([Object(Ul.b)({dispatch:!1}),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",void 0)],n.prototype,"onNewPostInViewport",null),Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",void 0)],n.prototype,"onJumpToPage",null),Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",void 0)],n.prototype,"onLoadNextPage",null),Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",void 0)],n.prototype,"onLoadPreviousPage",null),Object(F.__decorate)([Object(Ul.b)({dispatch:!1}),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",void 0)],n.prototype,"onTrackPage",null),Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",ir.Observable)],n.prototype,"onLoadPagePosts",null),Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",void 0)],n.prototype,"prefetchPreviousOrNextPages",null),Object(F.__decorate)([Object(Ul.b)(),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",ir.Observable)],n.prototype,"onLoadPagePostsBuffer",null),n}(),cr=e("20zA"),pr=function(){function n(n,t){this.store=n,this.actions=t}return n.prototype.onLoadPageSuccess=function(){var n=this;return this.actions.pipe(Object(Ul.d)(rn.x.LoadPageSuccess),Object(dn.a)(function(n){return n.payload}),Object(Ql.a)(this.store),Object(dn.a)(function(t){return n.loadNextPages(t[1])}))},n.prototype.onLoadThreadSuccess=function(){var n=this;return this.actions.pipe(Object(Ul.d)(rn.x.LoadThreadSuccess),Object(dn.a)(function(n){return n.payload}),Object(Ql.a)(this.store),Object(dn.a)(function(t){return n.loadNextPages(t[1])}))},n.prototype.loadNextPages=function(n){var t=n.forum.threadsById[n.forum.currentThreadIdAndPage.threadId],e=n.forum.currentThreadIdAndPage.page;1!==e&&this.store.dispatch(new rn.m({forumId:t.forum.id,threadId:t.id,page:e-1})),e!==t.totalPages&&this.store.dispatch(new rn.m({forumId:t.forum.id,threadId:t.id,page:e+1}))},Object(F.__decorate)([Object(Ul.b)({dispatch:!1}),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",void 0)],n.prototype,"onLoadPageSuccess",null),Object(F.__decorate)([Object(Ul.b)({dispatch:!1}),Object(F.__metadata)("design:type",Function),Object(F.__metadata)("design:paramtypes",[]),Object(F.__metadata)("design:returntype",void 0)],n.prototype,"onLoadThreadSuccess",null),n}(),gr=e("TQyL"),fr=e("YSh2");e.d(t,"ForumModuleNgFactory",function(){return hr});var hr=l["\u0275cmf"](o,[],function(n){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[r.a,a.b,a.a,i.a,u.a,s.a,d.a,c.a,p.a,g.a,f.a,h.a,m.a,bn,we,ke,He,il]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,M.NgLocalization,M.NgLocaleLocalization,[l.LOCALE_ID,[2,M["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,ul.c,ul.c,[]),l["\u0275mpd"](4608,Yt.b,Yt.b,[]),l["\u0275mpd"](4608,sl.a,sl.a,[sl.g,sl.c,l.ComponentFactoryResolver,sl.f,sl.d,l.Injector,l.NgZone,M.DOCUMENT,Wt.b,[2,M.Location]]),l["\u0275mpd"](5120,sl.h,sl.i,[sl.a]),l["\u0275mpd"](5120,b.c,b.d,[sl.a]),l["\u0275mpd"](135680,b.e,b.e,[sl.a,l.Injector,[2,M.Location],[2,b.b],b.c,[3,b.e],sl.c]),l["\u0275mpd"](4608,dl.i,dl.i,[]),l["\u0275mpd"](5120,dl.a,dl.b,[sl.a]),l["\u0275mpd"](4608,Yt.a,Yt.o,[[2,Yt.e],x.a]),l["\u0275mpd"](5120,cl.b,cl.g,[sl.a]),l["\u0275mpd"](5120,pl.a,pl.b,[sl.a]),l["\u0275mpd"](4608,Jt.d,Jt.d,[[2,gl.c],Zt.d,[2,M.DOCUMENT]]),l["\u0275mpd"](4608,fl.j,fl.i,[fl.d,fl.g]),l["\u0275mpd"](5120,l.APP_BOOTSTRAP_LISTENER,function(n,t){return[fl.m(n,t)]},[M.DOCUMENT,l.PLATFORM_ID]),l["\u0275mpd"](4608,_.e,_.e,[]),l["\u0275mpd"](4608,_.z,_.z,[]),l["\u0275mpd"](5120,yn.b,yn.a,[[3,yn.b]]),l["\u0275mpd"](4608,y.a,y.a,[M.DOCUMENT]),l["\u0275mpd"](4608,hl.a,hl.a,[y.a]),l["\u0275mpd"](4608,ml.a,ml.a,[gl.c,y.a]),l["\u0275mpd"](4608,vl.a,vl.a,[[2,Pl.a]]),l["\u0275mpd"](4608,bl.a,bl.a,[]),l["\u0275mpd"](4608,Ol.a,Ol.a,[y.a]),l["\u0275mpd"](4608,yl.a,yl.a,[]),l["\u0275mpd"](4608,Cl.a,Cl.a,[y.a,l.RendererFactory2]),l["\u0275mpd"](4608,C.a,C.a,[]),l["\u0275mpd"](4608,Rl,Rl,[Tl.a,xl.a,M.Location,Mn.a,S.p,I.a,Zt.k]),l["\u0275mpd"](4608,Ll,Ll,[on.o,Rl]),l["\u0275mpd"](4608,Bl,Bl,[on.o,Rl,Tl.a,Fl.a,S.p]),l["\u0275mpd"](4608,Vl,Vl,[on.o]),l["\u0275mpd"](4608,Hl,Hl,[Rl,Ll,Bl,on.o,ql]),l["\u0275mpd"](4608,Gl,Gl,[on.o]),l["\u0275mpd"](1073742336,M.CommonModule,M.CommonModule,[]),l["\u0275mpd"](1073742336,Wt.a,Wt.a,[]),l["\u0275mpd"](1073742336,Yt.h,Yt.h,[[2,Yt.c],[2,Zt.h]]),l["\u0275mpd"](1073742336,x.b,x.b,[]),l["\u0275mpd"](1073742336,Yt.n,Yt.n,[]),l["\u0275mpd"](1073742336,Bn.c,Bn.c,[]),l["\u0275mpd"](1073742336,Jl.e,Jl.e,[]),l["\u0275mpd"](1073742336,Yt.i,Yt.i,[]),l["\u0275mpd"](1073742336,Wl.a,Wl.a,[]),l["\u0275mpd"](1073742336,Yl.b,Yl.b,[]),l["\u0275mpd"](1073742336,ul.d,ul.d,[]),l["\u0275mpd"](1073742336,Zl.b,Zl.b,[]),l["\u0275mpd"](1073742336,Xl.b,Xl.b,[]),l["\u0275mpd"](1073742336,no.g,no.g,[]),l["\u0275mpd"](1073742336,to.c,to.c,[]),l["\u0275mpd"](1073742336,sl.e,sl.e,[]),l["\u0275mpd"](1073742336,b.k,b.k,[]),l["\u0275mpd"](1073742336,Vn.a,Vn.a,[]),l["\u0275mpd"](1073742336,dl.j,dl.j,[]),l["\u0275mpd"](1073742336,Yt.p,Yt.p,[]),l["\u0275mpd"](1073742336,Yt.j,Yt.j,[]),l["\u0275mpd"](1073742336,cl.e,cl.e,[]),l["\u0275mpd"](1073742336,Jt.c,Jt.c,[]),l["\u0275mpd"](1073742336,eo.a,eo.a,[]),l["\u0275mpd"](1073742336,Yt.l,Yt.l,[]),l["\u0275mpd"](1073742336,Yt.k,Yt.k,[]),l["\u0275mpd"](1073742336,pl.c,pl.c,[]),l["\u0275mpd"](1073742336,lo.a,lo.a,[]),l["\u0275mpd"](1073742336,oo.b,oo.b,[]),l["\u0275mpd"](1073742336,ro.j,ro.j,[]),l["\u0275mpd"](1073742336,ao.o,ao.o,[]),l["\u0275mpd"](1073742336,io.a,io.a,[]),l["\u0275mpd"](1073742336,uo.a,uo.a,[]),l["\u0275mpd"](1073742336,T.c,T.c,[]),l["\u0275mpd"](1073742336,so.a,so.a,[]),l["\u0275mpd"](1073742336,co.Angular2FontawesomeModule,co.Angular2FontawesomeModule,[]),l["\u0275mpd"](1073742336,fl.e,fl.e,[]),l["\u0275mpd"](1073742336,po.b,po.b,[]),l["\u0275mpd"](1073742336,go.a,go.a,[]),l["\u0275mpd"](1073742336,fo.a,fo.a,[]),l["\u0275mpd"](1073742336,ho.a,ho.a,[[2,fl.k],l.PLATFORM_ID]),l["\u0275mpd"](1073742336,_.w,_.w,[]),l["\u0275mpd"](1073742336,_.s,_.s,[]),l["\u0275mpd"](1073742336,_.j,_.j,[]),l["\u0275mpd"](1073742336,S.t,S.t,[[2,S.B],[2,S.p]]),l["\u0275mpd"](1073742336,mo.b,mo.b,[]),l["\u0275mpd"](1073742336,vo.c,vo.c,[]),l["\u0275mpd"](1073742336,Po.a,Po.a,[]),l["\u0275mpd"](1073742336,bo.a,bo.a,[]),l["\u0275mpd"](1073742336,Oo.a,Oo.a,[]),l["\u0275mpd"](1073742336,yo.a,yo.a,[]),l["\u0275mpd"](1073742336,Co.a,Co.a,[]),l["\u0275mpd"](1073742336,Eo,Eo,[]),l["\u0275mpd"](1073742336,wn.b,wn.b,[]),l["\u0275mpd"](1024,on.k,function(){return[{key:"forum",reducerFactory:on.B,metaReducers:[],initialState:void 0}]},[]),l["\u0275mpd"](1024,on.s,function(){return[Ko]},[]),l["\u0275mpd"](1024,on.t,function(n){return[n]},[on.s]),l["\u0275mpd"](1024,on.b,function(n,t,e){return[on.y(n,t,e)]},[l.Injector,on.s,on.t]),l["\u0275mpd"](1073873408,on.p,on.p,[on.k,on.b,on.h,on.q]),l["\u0275mpd"](512,I.a,I.a,[l.PLATFORM_ID]),l["\u0275mpd"](512,tt.a,tt.a,[I.a]),l["\u0275mpd"](512,an.a,an.a,[S.a,or.c,S.p,tt.a]),l["\u0275mpd"](512,rr.a,rr.a,[]),l["\u0275mpd"](512,Tl.a,Tl.a,[ar.a,Fl.a,rr.a,S.p,I.a]),l["\u0275mpd"](512,dr,dr,[Ul.a,on.o,Mn.a,S.p,an.a,et.a,Tl.a,Zt.d,Mn.a]),l["\u0275mpd"](512,B.a,B.a,[tt.a]),l["\u0275mpd"](512,Tn.a,Tn.a,[Tl.a,B.a,Fl.a,M.Location,Mn.a,on.o]),l["\u0275mpd"](512,ql,ql,[Ul.a,Tn.a,Tl.a,on.o,Zt.d,S.a,S.p,an.a,B.a,Mn.a,Fl.a,cr.a]),l["\u0275mpd"](512,pr,pr,[on.o,Ul.a]),l["\u0275mpd"](1024,Ul.i,function(n,t,e){return[Ul.e(n,t,e)]},[dr,ql,pr]),l["\u0275mpd"](1073742336,Ul.g,Ul.g,[Ul.f,Ul.i,[2,on.q],[2,on.p]]),l["\u0275mpd"](1073742336,gr.a,gr.a,[]),l["\u0275mpd"](1073742336,o,o,[]),l["\u0275mpd"](256,b.b,so.b,[]),l["\u0275mpd"](256,Yt.d,Yt.f,[]),l["\u0275mpd"](256,oo.a,{separatorKeyCodes:[fr.f]},[]),l["\u0275mpd"](1024,S.n,function(){return[[{path:"newthread",component:hn},{path:"newthread.php",component:hn},{matcher:wo,component:Ce,resolve:{threadInfo:Hl}},{matcher:To,component:Ce,resolve:{threadInfo:Hl}},{matcher:xo,component:Ce,resolve:{threadInfo:Hl}},{matcher:jo,component:Ce,resolve:{threadInfo:Hl}},{matcher:So,component:Ce,resolve:{threadInfo:Hl}},{matcher:Ro,component:Ce,resolve:{threadInfo:Hl}},{matcher:ko,component:Ce,resolve:{threadInfo:Hl}},{matcher:Lo,component:Ce,resolve:{threadInfo:Hl}},{matcher:Mo,component:Te,resolve:{action:Vl}},{matcher:_o,component:hn},{path:"",component:Le,resolve:{action:Gl}}]]},[])])})}}]);